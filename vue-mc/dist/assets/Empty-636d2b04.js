import{E as et,r as y,a as $t,o as we,G as Tt,w as Q,c as b,d as S,H as de,k as N,n as Pe,D as tt,e as c,F as X,I as At,j as nt,f as w,u as xt,b as C,t as oe,J as Ot,K as Ct,B as rt,_ as Et,L as Pt,M as ne,g as B,s as Mt,v as It,C as Dt,q as J,N as jt}from"./index-c758f327.js";const Lt=(()=>{let e;return()=>(e||(e=new Promise((t,n)=>{window.initRDKitModule().then(r=>{window.RDKit=r,t(r)}).catch(r=>{n()})})),e)})(),Ft={key:0},Vt={key:1},Bt=["title"],Rt=["innerHTML"],Ht=["title","id","width","height"],Nt=et({__name:"MoleculeStructure",props:{id:{type:String,required:!0},className:{type:String,default:""},svgMode:{type:Boolean,default:!1},width:{type:Number,default:250},height:{type:Number,default:200},structure:{type:String,required:!0},subStructure:{type:String,default:""},extraDetails:{type:Object,default:{}},drawingDelay:{type:Number,default:void 0}},setup(e){const t=e;let n=y(!1),r=y(!1);y(!1);let o=$t({width:t.width,height:t.height,bondLineWidth:1,addStereoAnnotation:!0,...t.extraDetails}),a=y("");function s(l){return!!l}function i(l){const f=window.RDKit.get_mol(l||"invalid"),g=s(f);return f==null||f.delete(),g}function u(l,f){if(s(l)&&s(f)){const g=JSON.parse((l==null?void 0:l.get_substruct_matches(f))||""),p=g&&g.reduce((_,{atoms:m,bonds:T})=>({atoms:[..._.atoms,...m],bonds:[..._.bonds,...T]}),{atoms:[],bonds:[]});return JSON.stringify({...o,...t.extraDetails||{},...p})}else return JSON.stringify({...o,...t.extraDetails||{}})}async function d(){const l=window.RDKit.get_mol(t.structure||"invalid"),f=window.RDKit.get_qmol(t.subStructure||"invalid"),g=s(l);if(t.svgMode&&g){const p=l.get_svg_with_highlights(u(l,f));a.value=p}else if(g){await At();const p=document.getElementById(t.id);l.draw_to_canvas_with_highlights(p,u(l,f))}l==null||l.delete(),f==null||f.delete()}function h(){t.drawingDelay?setTimeout(()=>d(),t.drawingDelay):d()}return we(()=>{Lt().then(()=>{n.value=!0;try{h()}catch(l){console.error(l)}}).catch(l=>{console.error(l),r.value=!0})}),Tt(()=>{!r&&n&&t.svgMode}),Q(t,()=>h()),(l,f)=>(b(),S(X,null,[de(r)?(b(),S("p",Ft,"Error loading renderer")):N("",!0),de(n)?i(e.structure)?e.svgMode?(b(),S("div",{key:3,class:Pe(`molecule-structure-svg ${e.className}`),style:tt({width:t.width,height:t.height}),innerHTML:de(a)},null,14,Rt)):(b(),S("div",{key:4,class:Pe(`molecule-canvas-container ${e.className}`)},[c("canvas",{title:e.structure,id:e.id,width:e.width,height:e.height},null,8,Ht)],2)):(b(),S("span",{key:2,title:`Cannot render structure: ${e.structure}`},null,8,Bt)):(b(),S("p",Vt,"Loading renderer"))],64))}});const Gt=c("div",{id:"component-example-svg",class:"container"},[c("section",{class:"hero"},[c("div",{class:"hero-body"})])],-1),Ut={class:"columns is-desktop"},at=et({__name:"RDKit-SVG",props:{molecules:{type:String,default:""}},setup(e){const t=e,n=y([t.molecules]);return Q(()=>t.molecules,r=>{n.value=[r]},{immediate:!0}),(r,o)=>(b(),S(X,null,[Gt,c("div",Ut,[(b(!0),S(X,null,nt(n.value,(a,s)=>(b(),S("div",{class:"column",key:s},[w(Nt,{id:`structure-example-svg-${s}`,structure:a,"svg-mode":""},null,8,["id","structure"])]))),128))])],64))}}),zt={class:"grid p-fluid"},Kt={class:"col-12 xl:col-12"},Jt={class:"card"},fe={__name:"Bar",props:{energyData:{type:Object,default:()=>({})},Energy_level:{type:String,default:"Energy"}},setup(e){const t=e,n=g=>{let p=g.canvas.parentNode.querySelector("div");return p||(p=document.createElement("div"),p.style.opacity=0,p.style.position="absolute",p.style.pointerEvents="none",p.style.transition="all .1s ease",g.canvas.parentNode.appendChild(p)),p},r=g=>{const{chart:p,tooltip:_}=g,m=n(p);if(_.opacity===0){m.style.opacity=0;return}let T="";if(_.dataPoints&&_.dataPoints.length){const St=_.dataPoints[0].label;T=t.energyData[St][1][1]}const A=Ot({render(){return Ct(at,{molecules:T})}}),$=document.createElement("div");A.mount($),m.innerHTML="",m.appendChild($);const{offsetLeft:E,offsetTop:j}=p.canvas;m.style.opacity=1;const ee=p.canvas.offsetWidth/2,K=_.caretX,te=K<ee?0:-250,O=K<ee?-200:-180;m.style.left=E+K+te+"px",m.style.top=j+_.caretY+O+"px",m.style.pointerEvents="none"},{layoutConfig:o}=xt();let a=getComputedStyle(document.documentElement),s=a.getPropertyValue("--text-color"),i=a.getPropertyValue("--text-color-secondary"),u=a.getPropertyValue("--surface-border");const d=y(null),h=y(null),l=()=>{a=getComputedStyle(document.documentElement),s=a.getPropertyValue("--text-color"),i=a.getPropertyValue("--text-color-secondary"),u=a.getPropertyValue("--surface-border")},f=()=>{const g=Object.keys(t.energyData),p=Object.keys(t.energyData).map(_=>parseFloat(t.energyData[_][0]));d.value={labels:g,datasets:[{label:"Intensity",backgroundColor:a.getPropertyValue("--primary-500"),borderColor:a.getPropertyValue("--primary-500"),data:p,barThickness:7}]},h.value={plugins:{tooltip:{enabled:!1,external:r,position:"nearest"},legend:{labels:{fontColor:s}}},scales:{x:{beginAtZero:!0,type:"linear",position:"bottom",ticks:{stepSize:10,color:i,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{ticks:{color:i},grid:{color:u,drawBorder:!1}}}}};return Q(o.theme,()=>{l(),f()},{immediate:!0}),(g,p)=>{const _=C("Chart");return b(),S("div",zt,[c("div",Kt,[c("div",Jt,[c("h5",null,oe(t.Energy_level),1),w(_,{type:"bar",data:d.value,options:h.value},null,8,["data","options"])])])])}}},qt={__name:"JSME",props:{width:{type:String,default:""},height:{type:String,default:"500px"},onChange:{type:Function,default:()=>{}},src:{type:String,default:"/public/jsme/jsme.nocache.js"},modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,o=`JME-${Math.random().toString(36).substr(2,9)}`,a=y(!1),s=y(n.modelValue);let i;const u=()=>{const l=document.createElement("script");l.type="text/javascript",l.src=n.src,l.onload=d,document.head.appendChild(l)},d=()=>{i=new window.JSApplet.JSME(o,n.width,n.height,{options:"fullScreenIcon,query,hydrogens",guicolor:"#FFE082",guiAtomColor:"#000000"}),n.modelValue&&i.readGenericMolecularInput(n.modelValue),i.setCallBack("AfterStructureModified",l=>{const f=l.src.smiles();s.value=f,r("update:modelValue",f),n.onChange(f)}),a.value=!0},h=()=>{i&&i.destroy&&i.destroy()};return we(()=>{var l;(l=window.JSApplet)!=null&&l.JSME?d():u()}),rt(()=>{h()}),(l,f)=>(b(),S("div",null,[c("div",{style:tt({width:e.width,height:e.height,outline:a.value?"":"1px solid black",outlineOffset:"-.5px",textAlign:"center"})},[c("div",{id:o})],4)]))}};const F=e=>(Mt("data-v-71cac769"),e=e(),It(),e),Wt={class:"grid"},Xt={class:"col-12"},Yt={class:"card"},Zt=F(()=>c("h5",null,"Dialog",-1)),kt={class:"responsive-container"},Qt={class:"flex flex-column gap-2 mt-2"},en={class:"text-xl font-semibold text-cyan-500"},tn=F(()=>c("h4",null,"Spectra Prediction",-1)),nn={class:"p-fluid formgrid grid"},rn={class:"field col-12 md:col-12"},an=F(()=>c("label",{for:"Parent_Compound_Structure"},"Parent Compound Structure",-1)),on=F(()=>c("i",{class:"pi pi-pencil text-orange-500 text-xl"},null,-1)),sn=[on],ln=F(()=>c("i",{class:"pi pi-eraser"},null,-1)),un=[ln],cn={class:"card p-fluid"},dn={class:"formgrid grid"},fn={class:"field col-12 md:col-2"},pn=F(()=>c("label",{for:"SpectraType"},"Spectra Type",-1)),_n={class:"field col-12 md:col-2"},gn=F(()=>c("label",{for:"AdductType"},"Adduct Type",-1)),hn={class:"card"},yn={class:"p-fluid formgrid grid"},vn=F(()=>c("div",{class:"field col-12 md:col-12"},[c("label",null,"InChI=1S/C11H14N2/c1-12-7-6-9-8-13-11-5-3-2-4-10(9)11/h2-5,8,12-13H,6-7H2,1H3")],-1)),mn={class:"field col-12 md:col-2"},bn={__name:"Form",props:{smiles_or_inchi_or_file:{type:String,default:""},smiles_or_inchi_or_fileModifiers:{},isSubmit:{default:!1},isSubmitModifiers:{},AdductType_dropdownItem:{type:Object,default:{name:"[M+H]+",code:"[M+H]+"}},AdductType_dropdownItemModifiers:{},SpectraType_dropdownItem:{type:Object,default:{name:"ESI",code:"ESI"}},SpectraType_dropdownItemModifiers:{}},emits:Pt(["update","confirm"],["update:smiles_or_inchi_or_file","update:isSubmit","update:AdductType_dropdownItem","update:SpectraType_dropdownItem"]),setup(e,{emit:t}){const n=ne(e,"smiles_or_inchi_or_file"),r=ne(e,"isSubmit"),o=ne(e,"AdductType_dropdownItem"),a=ne(e,"SpectraType_dropdownItem"),s=y([{name:"ESI",code:"ESI"}]),i=y([{name:"[M+H]+",code:"[M+H]+"},{name:"[M-H]-",code:"[M-H]-"}]),u=()=>{n.value=""},d=()=>{},h=()=>{r.value=!0},l=y(!1),f=()=>{l.value=!0},g=()=>{l.value=!1},p=y(""),_=A=>{p.value=A},m=t,T=()=>{m("confirm",p.value),g()};return(A,$)=>{const E=C("Button"),j=C("Dialog"),ce=C("InputGroupAddon"),ee=C("InputText"),K=C("InputGroup"),te=C("Dropdown");return b(),S("div",Wt,[c("div",Xt,[c("div",Yt,[Zt,w(j,{header:"Dialog",visible:l.value,"onUpdate:visible":$[0]||($[0]=O=>l.value=O),breakpoints:{"960px":"75vw"},modal:!0},{footer:B(()=>[c("div",Qt,[c("span",en,oe(p.value),1)]),w(E,{label:"Ok",onClick:T,icon:"pi pi-check",class:"p-button-outlined"})]),default:B(()=>[c("div",kt,[w(qt,{width:"100%",modelValue:p.value,"onUpdate:modelValue":_},null,8,["modelValue"])])]),_:1},8,["visible"]),tn,c("div",nn,[c("div",rn,[an,w(K,null,{default:B(()=>[w(ce,{onClick:d},{default:B(()=>[c("div",{onClick:f,class:"p-link flex align-items-center justify-content-center bg-orange-100 border-round",style:{width:"2.0rem",height:"2.0rem"}},sn)]),_:1}),w(ee,{modelValue:n.value,"onUpdate:modelValue":$[1]||($[1]=O=>n.value=O),id:"Parent_Compound_Structure",type:"text",placeholder:"Enter an InChI or SMILES string"},null,8,["modelValue"]),w(ce,{onClick:u},{default:B(()=>[c("button",{onClick:u,class:"p-link layout-topbar-button"},un)]),_:1})]),_:1})])]),c("div",cn,[c("div",dn,[c("div",fn,[pn,w(te,{id:"SpectraType",modelValue:a.value,"onUpdate:modelValue":$[2]||($[2]=O=>a.value=O),options:s.value,optionLabel:"name",placeholder:"ESI"},null,8,["modelValue","options"])]),c("div",_n,[gn,w(te,{id:"AdductType",modelValue:o.value,"onUpdate:modelValue":$[3]||($[3]=O=>o.value=O),options:i.value,optionLabel:"name",placeholder:"[M+H]+"},null,8,["modelValue","options"])])])]),c("div",hn,[c("div",yn,[vn,c("div",mn,[w(E,{onClick:h,label:"Submit",modelValue:r.value,"onUpdate:modelValue":$[4]||($[4]=O=>r.value=O),class:"mr-2 mb-2"},null,8,["modelValue"])])])])])])])}}},wn=Et(bn,[["__scopeId","data-v-71cac769"]]),Sn={class:"grid"},$n={class:"col-12"},Tn={class:"card"},An=c("h5",null,"Calculating",-1),xn={class:"grid"},On={class:"col"},Cn={__name:"ProgressBar",setup(e){const t=y(0);let n=null;const r=()=>{n=setInterval(()=>{let a=t.value+Math.floor(Math.random()*10)+1;a>=90&&(a=90),t.value=a},2e3)},o=()=>{clearInterval(n),n=null};return we(()=>{r()}),rt(()=>{o()}),(a,s)=>{const i=C("ProgressBar",!0);return b(),S("div",Sn,[c("div",$n,[c("div",Tn,[An,c("div",xn,[c("div",On,[w(i,{value:t.value},null,8,["value"])])])])])])}}};var En=typeof global=="object"&&global&&global.Object===Object&&global;const ot=En;var Pn=typeof self=="object"&&self&&self.Object===Object&&self,Mn=ot||Pn||Function("return this")();const M=Mn;var In=M.Symbol;const L=In;var st=Object.prototype,Dn=st.hasOwnProperty,jn=st.toString,q=L?L.toStringTag:void 0;function Ln(e){var t=Dn.call(e,q),n=e[q];try{e[q]=void 0;var r=!0}catch{}var o=jn.call(e);return r&&(t?e[q]=n:delete e[q]),o}var Fn=Object.prototype,Vn=Fn.toString;function Bn(e){return Vn.call(e)}var Rn="[object Null]",Hn="[object Undefined]",Me=L?L.toStringTag:void 0;function U(e){return e==null?e===void 0?Hn:Rn:Me&&Me in Object(e)?Ln(e):Bn(e)}function G(e){return e!=null&&typeof e=="object"}var Nn="[object Symbol]";function Y(e){return typeof e=="symbol"||G(e)&&U(e)==Nn}function ae(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Gn=Array.isArray;const x=Gn;var Un=1/0,Ie=L?L.prototype:void 0,De=Ie?Ie.toString:void 0;function it(e){if(typeof e=="string")return e;if(x(e))return ae(e,it)+"";if(Y(e))return De?De.call(e):"";var t=e+"";return t=="0"&&1/e==-Un?"-0":t}function Se(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function lt(e){return e}var zn="[object AsyncFunction]",Kn="[object Function]",Jn="[object GeneratorFunction]",qn="[object Proxy]";function ut(e){if(!Se(e))return!1;var t=U(e);return t==Kn||t==Jn||t==zn||t==qn}var Wn=M["__core-js_shared__"];const pe=Wn;var je=function(){var e=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Xn(e){return!!je&&je in e}var Yn=Function.prototype,Zn=Yn.toString;function H(e){if(e!=null){try{return Zn.call(e)}catch{}try{return e+""}catch{}}return""}var kn=/[\\^$.*+?()[\]{}|]/g,Qn=/^\[object .+?Constructor\]$/,er=Function.prototype,tr=Object.prototype,nr=er.toString,rr=tr.hasOwnProperty,ar=RegExp("^"+nr.call(rr).replace(kn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function or(e){if(!Se(e)||Xn(e))return!1;var t=ut(e)?ar:Qn;return t.test(H(e))}function sr(e,t){return e==null?void 0:e[t]}function z(e,t){var n=sr(e,t);return or(n)?n:void 0}var ir=z(M,"WeakMap");const he=ir;var lr=9007199254740991,ur=/^(?:0|[1-9]\d*)$/;function ct(e,t){var n=typeof e;return t=t??lr,!!t&&(n=="number"||n!="symbol"&&ur.test(e))&&e>-1&&e%1==0&&e<t}function dt(e,t){return e===t||e!==e&&t!==t}var cr=9007199254740991;function $e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=cr}function Te(e){return e!=null&&$e(e.length)&&!ut(e)}var dr=Object.prototype;function fr(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||dr;return e===n}function pr(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var _r="[object Arguments]";function Le(e){return G(e)&&U(e)==_r}var ft=Object.prototype,gr=ft.hasOwnProperty,hr=ft.propertyIsEnumerable,yr=Le(function(){return arguments}())?Le:function(e){return G(e)&&gr.call(e,"callee")&&!hr.call(e,"callee")};const pt=yr;function vr(){return!1}var _t=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Fe=_t&&typeof module=="object"&&module&&!module.nodeType&&module,mr=Fe&&Fe.exports===_t,Ve=mr?M.Buffer:void 0,br=Ve?Ve.isBuffer:void 0,wr=br||vr;const ye=wr;var Sr="[object Arguments]",$r="[object Array]",Tr="[object Boolean]",Ar="[object Date]",xr="[object Error]",Or="[object Function]",Cr="[object Map]",Er="[object Number]",Pr="[object Object]",Mr="[object RegExp]",Ir="[object Set]",Dr="[object String]",jr="[object WeakMap]",Lr="[object ArrayBuffer]",Fr="[object DataView]",Vr="[object Float32Array]",Br="[object Float64Array]",Rr="[object Int8Array]",Hr="[object Int16Array]",Nr="[object Int32Array]",Gr="[object Uint8Array]",Ur="[object Uint8ClampedArray]",zr="[object Uint16Array]",Kr="[object Uint32Array]",v={};v[Vr]=v[Br]=v[Rr]=v[Hr]=v[Nr]=v[Gr]=v[Ur]=v[zr]=v[Kr]=!0;v[Sr]=v[$r]=v[Lr]=v[Tr]=v[Fr]=v[Ar]=v[xr]=v[Or]=v[Cr]=v[Er]=v[Pr]=v[Mr]=v[Ir]=v[Dr]=v[jr]=!1;function Jr(e){return G(e)&&$e(e.length)&&!!v[U(e)]}function gt(e){return function(t){return e(t)}}var ht=typeof exports=="object"&&exports&&!exports.nodeType&&exports,W=ht&&typeof module=="object"&&module&&!module.nodeType&&module,qr=W&&W.exports===ht,_e=qr&&ot.process,Wr=function(){try{var e=W&&W.require&&W.require("util").types;return e||_e&&_e.binding&&_e.binding("util")}catch{}}();const Be=Wr;var Re=Be&&Be.isTypedArray,Xr=Re?gt(Re):Jr;const yt=Xr;var Yr=Object.prototype,Zr=Yr.hasOwnProperty;function kr(e,t){var n=x(e),r=!n&&pt(e),o=!n&&!r&&ye(e),a=!n&&!r&&!o&&yt(e),s=n||r||o||a,i=s?pr(e.length,String):[],u=i.length;for(var d in e)(t||Zr.call(e,d))&&!(s&&(d=="length"||o&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||ct(d,u)))&&i.push(d);return i}function Qr(e,t){return function(n){return e(t(n))}}var ea=Qr(Object.keys,Object);const ta=ea;var na=Object.prototype,ra=na.hasOwnProperty;function aa(e){if(!fr(e))return ta(e);var t=[];for(var n in Object(e))ra.call(e,n)&&n!="constructor"&&t.push(n);return t}function Ae(e){return Te(e)?kr(e):aa(e)}var oa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sa=/^\w*$/;function xe(e,t){if(x(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Y(e)?!0:sa.test(e)||!oa.test(e)||t!=null&&e in Object(t)}var ia=z(Object,"create");const Z=ia;function la(){this.__data__=Z?Z(null):{},this.size=0}function ua(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ca="__lodash_hash_undefined__",da=Object.prototype,fa=da.hasOwnProperty;function pa(e){var t=this.__data__;if(Z){var n=t[e];return n===ca?void 0:n}return fa.call(t,e)?t[e]:void 0}var _a=Object.prototype,ga=_a.hasOwnProperty;function ha(e){var t=this.__data__;return Z?t[e]!==void 0:ga.call(t,e)}var ya="__lodash_hash_undefined__";function va(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Z&&t===void 0?ya:t,this}function R(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}R.prototype.clear=la;R.prototype.delete=ua;R.prototype.get=pa;R.prototype.has=ha;R.prototype.set=va;function ma(){this.__data__=[],this.size=0}function ie(e,t){for(var n=e.length;n--;)if(dt(e[n][0],t))return n;return-1}var ba=Array.prototype,wa=ba.splice;function Sa(e){var t=this.__data__,n=ie(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():wa.call(t,n,1),--this.size,!0}function $a(e){var t=this.__data__,n=ie(t,e);return n<0?void 0:t[n][1]}function Ta(e){return ie(this.__data__,e)>-1}function Aa(e,t){var n=this.__data__,r=ie(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function I(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}I.prototype.clear=ma;I.prototype.delete=Sa;I.prototype.get=$a;I.prototype.has=Ta;I.prototype.set=Aa;var xa=z(M,"Map");const k=xa;function Oa(){this.size=0,this.__data__={hash:new R,map:new(k||I),string:new R}}function Ca(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function le(e,t){var n=e.__data__;return Ca(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Ea(e){var t=le(this,e).delete(e);return this.size-=t?1:0,t}function Pa(e){return le(this,e).get(e)}function Ma(e){return le(this,e).has(e)}function Ia(e,t){var n=le(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function D(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}D.prototype.clear=Oa;D.prototype.delete=Ea;D.prototype.get=Pa;D.prototype.has=Ma;D.prototype.set=Ia;var Da="Expected a function";function Oe(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Da);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=e.apply(this,r);return n.cache=a.set(o,s)||a,s};return n.cache=new(Oe.Cache||D),n}Oe.Cache=D;var ja=500;function La(e){var t=Oe(e,function(r){return n.size===ja&&n.clear(),r}),n=t.cache;return t}var Fa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Va=/\\(\\)?/g,Ba=La(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Fa,function(n,r,o,a){t.push(o?a.replace(Va,"$1"):r||n)}),t});const Ra=Ba;function Ha(e){return e==null?"":it(e)}function vt(e,t){return x(e)?e:xe(e,t)?[e]:Ra(Ha(e))}var Na=1/0;function ue(e){if(typeof e=="string"||Y(e))return e;var t=e+"";return t=="0"&&1/e==-Na?"-0":t}function Ce(e,t){t=vt(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ue(t[n++])];return n&&n==r?e:void 0}function Ga(e,t,n){var r=e==null?void 0:Ce(e,t);return r===void 0?n:r}function Ua(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function za(){this.__data__=new I,this.size=0}function Ka(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Ja(e){return this.__data__.get(e)}function qa(e){return this.__data__.has(e)}var Wa=200;function Xa(e,t){var n=this.__data__;if(n instanceof I){var r=n.__data__;if(!k||r.length<Wa-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new D(r)}return n.set(e,t),this.size=n.size,this}function P(e){var t=this.__data__=new I(e);this.size=t.size}P.prototype.clear=za;P.prototype.delete=Ka;P.prototype.get=Ja;P.prototype.has=qa;P.prototype.set=Xa;function Ya(e,t){for(var n=-1,r=e==null?0:e.length,o=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[o++]=s)}return a}function Za(){return[]}var ka=Object.prototype,Qa=ka.propertyIsEnumerable,He=Object.getOwnPropertySymbols,eo=He?function(e){return e==null?[]:(e=Object(e),Ya(He(e),function(t){return Qa.call(e,t)}))}:Za;const to=eo;function no(e,t,n){var r=t(e);return x(e)?r:Ua(r,n(e))}function Ne(e){return no(e,Ae,to)}var ro=z(M,"DataView");const ve=ro;var ao=z(M,"Promise");const me=ao;var oo=z(M,"Set");const be=oo;var Ge="[object Map]",so="[object Object]",Ue="[object Promise]",ze="[object Set]",Ke="[object WeakMap]",Je="[object DataView]",io=H(ve),lo=H(k),uo=H(me),co=H(be),fo=H(he),V=U;(ve&&V(new ve(new ArrayBuffer(1)))!=Je||k&&V(new k)!=Ge||me&&V(me.resolve())!=Ue||be&&V(new be)!=ze||he&&V(new he)!=Ke)&&(V=function(e){var t=U(e),n=t==so?e.constructor:void 0,r=n?H(n):"";if(r)switch(r){case io:return Je;case lo:return Ge;case uo:return Ue;case co:return ze;case fo:return Ke}return t});const qe=V;var po=M.Uint8Array;const We=po;var _o="__lodash_hash_undefined__";function go(e){return this.__data__.set(e,_o),this}function ho(e){return this.__data__.has(e)}function se(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new D;++t<n;)this.add(e[t])}se.prototype.add=se.prototype.push=go;se.prototype.has=ho;function yo(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function vo(e,t){return e.has(t)}var mo=1,bo=2;function mt(e,t,n,r,o,a){var s=n&mo,i=e.length,u=t.length;if(i!=u&&!(s&&u>i))return!1;var d=a.get(e),h=a.get(t);if(d&&h)return d==t&&h==e;var l=-1,f=!0,g=n&bo?new se:void 0;for(a.set(e,t),a.set(t,e);++l<i;){var p=e[l],_=t[l];if(r)var m=s?r(_,p,l,t,e,a):r(p,_,l,e,t,a);if(m!==void 0){if(m)continue;f=!1;break}if(g){if(!yo(t,function(T,A){if(!vo(g,A)&&(p===T||o(p,T,n,r,a)))return g.push(A)})){f=!1;break}}else if(!(p===_||o(p,_,n,r,a))){f=!1;break}}return a.delete(e),a.delete(t),f}function wo(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function So(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var $o=1,To=2,Ao="[object Boolean]",xo="[object Date]",Oo="[object Error]",Co="[object Map]",Eo="[object Number]",Po="[object RegExp]",Mo="[object Set]",Io="[object String]",Do="[object Symbol]",jo="[object ArrayBuffer]",Lo="[object DataView]",Xe=L?L.prototype:void 0,ge=Xe?Xe.valueOf:void 0;function Fo(e,t,n,r,o,a,s){switch(n){case Lo:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case jo:return!(e.byteLength!=t.byteLength||!a(new We(e),new We(t)));case Ao:case xo:case Eo:return dt(+e,+t);case Oo:return e.name==t.name&&e.message==t.message;case Po:case Io:return e==t+"";case Co:var i=wo;case Mo:var u=r&$o;if(i||(i=So),e.size!=t.size&&!u)return!1;var d=s.get(e);if(d)return d==t;r|=To,s.set(e,t);var h=mt(i(e),i(t),r,o,a,s);return s.delete(e),h;case Do:if(ge)return ge.call(e)==ge.call(t)}return!1}var Vo=1,Bo=Object.prototype,Ro=Bo.hasOwnProperty;function Ho(e,t,n,r,o,a){var s=n&Vo,i=Ne(e),u=i.length,d=Ne(t),h=d.length;if(u!=h&&!s)return!1;for(var l=u;l--;){var f=i[l];if(!(s?f in t:Ro.call(t,f)))return!1}var g=a.get(e),p=a.get(t);if(g&&p)return g==t&&p==e;var _=!0;a.set(e,t),a.set(t,e);for(var m=s;++l<u;){f=i[l];var T=e[f],A=t[f];if(r)var $=s?r(A,T,f,t,e,a):r(T,A,f,e,t,a);if(!($===void 0?T===A||o(T,A,n,r,a):$)){_=!1;break}m||(m=f=="constructor")}if(_&&!m){var E=e.constructor,j=t.constructor;E!=j&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof j=="function"&&j instanceof j)&&(_=!1)}return a.delete(e),a.delete(t),_}var No=1,Ye="[object Arguments]",Ze="[object Array]",re="[object Object]",Go=Object.prototype,ke=Go.hasOwnProperty;function Uo(e,t,n,r,o,a){var s=x(e),i=x(t),u=s?Ze:qe(e),d=i?Ze:qe(t);u=u==Ye?re:u,d=d==Ye?re:d;var h=u==re,l=d==re,f=u==d;if(f&&ye(e)){if(!ye(t))return!1;s=!0,h=!1}if(f&&!h)return a||(a=new P),s||yt(e)?mt(e,t,n,r,o,a):Fo(e,t,u,n,r,o,a);if(!(n&No)){var g=h&&ke.call(e,"__wrapped__"),p=l&&ke.call(t,"__wrapped__");if(g||p){var _=g?e.value():e,m=p?t.value():t;return a||(a=new P),o(_,m,n,r,a)}}return f?(a||(a=new P),Ho(e,t,n,r,o,a)):!1}function Ee(e,t,n,r,o){return e===t?!0:e==null||t==null||!G(e)&&!G(t)?e!==e&&t!==t:Uo(e,t,n,r,Ee,o)}var zo=1,Ko=2;function Jo(e,t,n,r){var o=n.length,a=o,s=!r;if(e==null)return!a;for(e=Object(e);o--;){var i=n[o];if(s&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++o<a;){i=n[o];var u=i[0],d=e[u],h=i[1];if(s&&i[2]){if(d===void 0&&!(u in e))return!1}else{var l=new P;if(r)var f=r(d,h,u,e,t,l);if(!(f===void 0?Ee(h,d,zo|Ko,r,l):f))return!1}}return!0}function bt(e){return e===e&&!Se(e)}function qo(e){for(var t=Ae(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,bt(o)]}return t}function wt(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Wo(e){var t=qo(e);return t.length==1&&t[0][2]?wt(t[0][0],t[0][1]):function(n){return n===e||Jo(n,e,t)}}function Xo(e,t){return e!=null&&t in Object(e)}function Yo(e,t,n){t=vt(t,e);for(var r=-1,o=t.length,a=!1;++r<o;){var s=ue(t[r]);if(!(a=e!=null&&n(e,s)))break;e=e[s]}return a||++r!=o?a:(o=e==null?0:e.length,!!o&&$e(o)&&ct(s,o)&&(x(e)||pt(e)))}function Zo(e,t){return e!=null&&Yo(e,t,Xo)}var ko=1,Qo=2;function es(e,t){return xe(e)&&bt(t)?wt(ue(e),t):function(n){var r=Ga(n,e);return r===void 0&&r===t?Zo(n,e):Ee(t,r,ko|Qo)}}function ts(e){return function(t){return t==null?void 0:t[e]}}function ns(e){return function(t){return Ce(t,e)}}function rs(e){return xe(e)?ts(ue(e)):ns(e)}function as(e){return typeof e=="function"?e:e==null?lt:typeof e=="object"?x(e)?es(e[0],e[1]):Wo(e):rs(e)}function os(e){return function(t,n,r){for(var o=-1,a=Object(t),s=r(t),i=s.length;i--;){var u=s[e?i:++o];if(n(a[u],u,a)===!1)break}return t}}var ss=os();const is=ss;function ls(e,t){return e&&is(e,t,Ae)}function us(e,t){return function(n,r){if(n==null)return n;if(!Te(n))return e(n,r);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&r(s[a],a,s)!==!1;);return n}}var cs=us(ls);const ds=cs;function fs(e,t){var n=-1,r=Te(e)?Array(e.length):[];return ds(e,function(o,a,s){r[++n]=t(o,a,s)}),r}function ps(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function _s(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,a=Y(e),s=t!==void 0,i=t===null,u=t===t,d=Y(t);if(!i&&!d&&!a&&e>t||a&&s&&u&&!i&&!d||r&&s&&u||!n&&u||!o)return 1;if(!r&&!a&&!d&&e<t||d&&n&&o&&!r&&!a||i&&n&&o||!s&&o||!u)return-1}return 0}function gs(e,t,n){for(var r=-1,o=e.criteria,a=t.criteria,s=o.length,i=n.length;++r<s;){var u=_s(o[r],a[r]);if(u){if(r>=i)return u;var d=n[r];return u*(d=="desc"?-1:1)}}return e.index-t.index}function hs(e,t,n){t.length?t=ae(t,function(a){return x(a)?function(s){return Ce(s,a.length===1?a[0]:a)}:a}):t=[lt];var r=-1;t=ae(t,gt(as));var o=fs(e,function(a,s,i){var u=ae(t,function(d){return d(a)});return{criteria:u,index:++r,value:a}});return ps(o,function(a,s){return gs(a,s,n)})}function Qe(e,t,n,r){return e==null?[]:(x(t)||(t=t==null?[]:[t]),n=r?void 0:n,x(n)||(n=n==null?[]:[n]),hs(e,t,n))}const ys={class:"grid"},vs={class:"col-12"},ms={class:"card"},bs=c("h5",null,"DataView",-1),ws={class:"grid grid-nogutter"},Ss={class:"col-6 text-left"},$s={class:"grid grid-nogutter"},Ts={class:"p-4 border-1 surface-border surface-card border-round flex flex-column"},As={class:"surface-50 flex justify-content-center border-round p-3"},xs={class:"relative mx-auto"},Os={class:"pt-4"},Cs={class:"flex flex-row justify-content-between align-items-start gap-2"},Es={class:"text-lg font-medium text-teal-400 mt-1"},Ps={class:"flex flex-column gap-4 mt-4"},Ms={class:"text-xl font-semibold text-cyan-500"},Is={__name:"List",props:{energyData:{type:Object,default:()=>({})}},setup(e){const n=y(Object.entries(e.energyData).map(([h,l])=>({fregment_id:h,mass:l[0],SMILES:l[1]}))),r=Dt(()=>Qe(n.value,[i.value],[s.value===1?"asc":"desc"]));y("");const o=y("grid"),a=y(null),s=y(1),i=y("mass"),u=y([{label:"Mass High to Low",value:"!mass"},{label:"Mass Low to High",value:"mass"}]),d=h=>{const l=h.value.value,f=h.value;l.indexOf("!")===0?(s.value=-1,i.value=l.substring(1,l.length).toLowerCase(),a.value=f):(s.value=1,i.value=l.toLowerCase(),a.value=f)};return Q([s,i],()=>{r.value=Qe(n.value,[i.value],[s.value===1?"asc":"desc"])}),(h,l)=>{const f=C("Dropdown"),g=C("DataView");return b(),S("div",ys,[c("div",vs,[c("div",ms,[bs,w(g,{value:r.value,layout:o.value,paginator:!0,rows:9,sortOrder:s.value,sortField:i.value},{header:B(()=>[c("div",ws,[c("div",Ss,[w(f,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=p=>a.value=p),options:u.value,optionLabel:"label",placeholder:"Sort By Mass",onChange:l[1]||(l[1]=p=>d(p))},null,8,["modelValue","options"])])])]),grid:B(p=>[c("div",$s,[(b(!0),S(X,null,nt(p.items,(_,m)=>(b(),S("div",{key:m,class:"col-12 sm:col-6 md:col-4 p-2"},[c("div",Ts,[c("div",As,[c("div",xs,[w(at,{molecules:_.SMILES},null,8,["molecules"])])]),c("div",Os,[c("div",Cs,[c("div",null,[c("div",Es,oe(_.mass),1)])]),c("div",Ps,[c("span",Ms,oe(_.SMILES),1)])])])]))),128))])]),_:1},8,["value","layout","sortOrder","sortField"])])])])}}},Ds=c("h1",null,"CFM-ID",-1),Fs={__name:"Empty",setup(e){const t=y(""),n=y({name:"[M+H]+",code:"[M+H]+"}),r=y(!1),o=y(null);y(""),Q(r,s=>{s&&a()});const a=()=>{r.value=!0,jt.post("/predict",{smiles_or_inchi_or_file:t.value,AdductType:n.value.code}).then(s=>{o.value=s.data.result,r.value=!1}).catch(s=>{console.error(s.response.data),r.value=!1})};return(s,i)=>(b(),S(X,null,[Ds,w(wn,{smiles_or_inchi_or_file:t.value,"onUpdate:smiles_or_inchi_or_file":i[0]||(i[0]=u=>t.value=u),isSubmit:r.value,"onUpdate:isSubmit":i[1]||(i[1]=u=>r.value=u),AdductType_dropdownItem:n.value,"onUpdate:AdductType_dropdownItem":i[2]||(i[2]=u=>n.value=u),onConfirm:i[3]||(i[3]=u=>t.value=u)},null,8,["smiles_or_inchi_or_file","isSubmit","AdductType_dropdownItem"]),r.value?(b(),J(Cn,{key:0})):N("",!0),!r.value&&o.value&&o.value.energy0?(b(),J(fe,{key:1,energyData:o.value.energy0,Energy_level:"Low Energy"},null,8,["energyData"])):N("",!0),!r.value&&o.value&&o.value.energy1?(b(),J(fe,{key:2,energyData:o.value.energy1,Energy_level:"Middle Energy"},null,8,["energyData"])):N("",!0),!r.value&&o.value&&o.value.energy2?(b(),J(fe,{key:3,energyData:o.value.energy2,Energy_level:"High Energy"},null,8,["energyData"])):N("",!0),!r.value&&o.value&&o.value.fragment?(b(),J(Is,{key:4,energyData:o.value.fragment},null,8,["energyData"])):N("",!0)],64))}};export{Fs as default};
