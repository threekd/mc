import{e as tt,f as v,g as ae,h as G,i as Tt,j as At,k as xt,o as b,c as A,u as fe,l as U,n as Pe,m as nt,b as u,F as Y,p as Ot,q as rt,a as T,s as Et,r as P,t as se,v as Ct,x as Pt,y as ot,_ as Mt,z as It,A as ne,w as V,B as Dt,C as jt,D as Lt,E as W,G as Ft}from"./index-15452b1c.js";const Me=(()=>{let e;return()=>(e||(e=new Promise((t,n)=>{window.initRDKitModule().then(r=>{window.RDKit=r,t(r)}).catch(r=>{n()})})),e)})(),Vt={key:0},Bt={key:1},Rt=["title"],Nt=["innerHTML"],Ut=["title","id","width","height"],Gt=tt({__name:"MoleculeStructure",props:{id:{type:String,required:!0},className:{type:String,default:""},svgMode:{type:Boolean,default:!1},width:{type:Number,default:250},height:{type:Number,default:200},structure:{type:String,required:!0},subStructure:{type:String,default:""},extraDetails:{type:Object,default:{}},drawingDelay:{type:Number,default:void 0}},setup(e){const t=e,n=v(null),r=v(null);function a(){t.svgMode&&n.value?(l.width=n.value.clientWidth,l.height=n.value.clientHeight):!t.svgMode&&r.value&&(l.width=r.value.clientWidth,l.height=r.value.clientHeight)}function o(){a(),y()}ae(()=>{Me().then(()=>{s.value=!0,a(),p()}).catch(c=>{console.error(c),i.value=!0})}),G(t,o),window.addEventListener("resize",o),Tt(()=>{window.removeEventListener("resize",o)});let s=v(!1),i=v(!1);v(!1);let l=At({width:t.width,height:t.height,bondLineWidth:1,addStereoAnnotation:!0,...t.extraDetails}),d=v("");function h(c){return!!c}function f(c){const g=window.RDKit.get_mol(c||"invalid"),w=h(g);return g==null||g.delete(),w}function _(c,g){if(h(c)&&h(g)){const w=JSON.parse((c==null?void 0:c.get_substruct_matches(g))||""),$=w&&w.reduce((S,{atoms:O,bonds:C})=>({atoms:[...S.atoms,...O],bonds:[...S.bonds,...C]}),{atoms:[],bonds:[]});return JSON.stringify({...l,...t.extraDetails||{},...$})}else return JSON.stringify({...l,...t.extraDetails||{}})}async function y(){const c=window.RDKit.get_mol(t.structure||"invalid"),g=window.RDKit.get_qmol(t.subStructure||"invalid"),w=h(c);if(t.svgMode&&w){const $=c.get_svg_with_highlights(_(c,g));d.value=$}else if(w){await Ot();const $=document.getElementById(t.id);c.draw_to_canvas_with_highlights($,_(c,g))}c==null||c.delete(),g==null||g.delete()}function p(){t.drawingDelay?setTimeout(()=>y(),t.drawingDelay):y()}return ae(()=>{Me().then(()=>{s.value=!0;try{p()}catch(c){console.error(c)}}).catch(c=>{console.error(c),i.value=!0})}),xt(()=>{!i&&s&&t.svgMode}),G(t,()=>p()),(c,g)=>(b(),A(Y,null,[fe(i)?(b(),A("p",Vt,"Error loading renderer")):U("",!0),fe(s)?f(e.structure)?e.svgMode?(b(),A("div",{key:3,class:Pe(`molecule-structure-svg ${e.className}`),style:nt({width:t.width,height:t.height}),innerHTML:fe(d)},null,14,Nt)):(b(),A("div",{key:4,class:Pe(`molecule-canvas-container ${e.className}`)},[u("canvas",{title:e.structure,id:e.id,width:e.width,height:e.height},null,8,Ut)],2)):(b(),A("span",{key:2,title:`Cannot render structure: ${e.structure}`},null,8,Rt)):(b(),A("p",Bt,"Loading renderer"))],64))}});const Ht=u("div",{id:"component-example-svg",class:"container"},[u("section",{class:"hero"},[u("div",{class:"hero-body"})])],-1),zt={class:"columns is-desktop"},at=tt({__name:"RDKit-SVG",props:{molecules:{type:String,default:""}},setup(e){const t=e,n=v([t.molecules]);return G(()=>t.molecules,r=>{n.value=[r]},{immediate:!0}),(r,a)=>(b(),A(Y,null,[Ht,u("div",zt,[(b(!0),A(Y,null,rt(n.value,(o,s)=>(b(),A("div",{class:"column",key:s},[T(Gt,{id:`structure-example-svg-${s}`,structure:o,"svg-mode":""},null,8,["id","structure"])]))),128))])],64))}}),Kt={class:"grid p-fluid"},Jt={class:"col-12 xl:col-12"},Wt={class:"card"},pe={__name:"Bar",props:{energyData:{type:Object,default:()=>({})},Energy_level:{type:String,default:"Energy"}},setup(e){const t=e,n=y=>{let p=y.canvas.parentNode.querySelector("div");return p||(p=document.createElement("div"),p.style.opacity=0,p.style.position="absolute",p.style.pointerEvents="none",p.style.transition="all .1s ease",y.canvas.parentNode.appendChild(p)),p},r=y=>{const{chart:p,tooltip:c}=y,g=n(p);if(c.opacity===0){g.style.opacity=0;return}let w="";if(c.dataPoints&&c.dataPoints.length){const $t=c.dataPoints[0].label;w=t.energyData[$t][1][1]}const $=Ct({render(){return Pt(at,{molecules:w})}}),S=document.createElement("div");$.mount(S),g.innerHTML="",g.appendChild(S);const{offsetLeft:O,offsetTop:C}=p.canvas;g.style.opacity=1;const ee=p.canvas.offsetWidth/2,J=c.caretX,te=J<ee?0:-250,E=J<ee?-200:-180;g.style.left=O+J+te+"px",g.style.top=C+c.caretY+E+"px",g.style.pointerEvents="none"},{layoutConfig:a}=Et();let o=getComputedStyle(document.documentElement),s=o.getPropertyValue("--text-color"),i=o.getPropertyValue("--text-color-secondary"),l=o.getPropertyValue("--surface-border");const d=v(null),h=v(null),f=()=>{o=getComputedStyle(document.documentElement),s=o.getPropertyValue("--text-color"),i=o.getPropertyValue("--text-color-secondary"),l=o.getPropertyValue("--surface-border")},_=()=>{const y=Object.keys(t.energyData),p=Object.keys(t.energyData).map(c=>parseFloat(t.energyData[c][0]));d.value={labels:y,datasets:[{label:"Intensity",backgroundColor:o.getPropertyValue("--primary-500"),borderColor:o.getPropertyValue("--primary-500"),data:p,barThickness:7}]},h.value={plugins:{tooltip:{enabled:!1,external:r,position:"nearest"},legend:{labels:{fontColor:s}}},scales:{x:{beginAtZero:!0,type:"linear",position:"bottom",ticks:{stepSize:10,color:i,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{ticks:{color:i},grid:{color:l,drawBorder:!1}}}}};return G(a.theme,()=>{f(),_()},{immediate:!0}),(y,p)=>{const c=P("Chart");return b(),A("div",Kt,[u("div",Jt,[u("div",Wt,[u("h5",null,se(t.Energy_level),1),T(c,{type:"bar",data:d.value,options:h.value},null,8,["data","options"])])])])}}},qt={__name:"JSME",props:{width:{type:String,default:""},height:{type:String,default:'"100%"'},onChange:{type:Function,default:()=>{}},src:{type:String,default:"/public/jsme/jsme.nocache.js"},modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,a=`JME-${Math.random().toString(36).substr(2,9)}`,o=v(!1),s=v(n.modelValue);let i;const l=()=>{const f=document.createElement("script");f.type="text/javascript",f.src=n.src,f.onload=d,document.head.appendChild(f)},d=()=>{i=new window.JSApplet.JSME(a,n.width,n.height,{options:"fullScreenIcon,query,hydrogens",guicolor:"#FFE082",guiAtomColor:"#000000"}),n.modelValue&&i.readGenericMolecularInput(n.modelValue),i.setCallBack("AfterStructureModified",f=>{const _=f.src.smiles();s.value=_,r("update:modelValue",_),n.onChange(_)}),o.value=!0},h=()=>{i&&i.destroy&&i.destroy()};return ae(()=>{var f;(f=window.JSApplet)!=null&&f.JSME?d():l()}),ot(()=>{h()}),(f,_)=>(b(),A("div",null,[u("div",{style:nt({width:e.width,height:e.height,outline:o.value?"":"1px solid black",outlineOffset:"-.5px",textAlign:"center"})},[u("div",{id:a})],4)]))}};const R=e=>(Dt("data-v-28720605"),e=e(),jt(),e),Xt={class:"grid"},Yt={class:"col-12"},Zt={class:"card"},kt={class:"responsive-container"},Qt={class:"flex flex-column gap-2 mt-2"},en={class:"text-xl font-semibold text-cyan-500"},tn=R(()=>u("h4",null,"Spectra Prediction",-1)),nn={class:"p-fluid formgrid grid"},rn={class:"field col-12 md:col-12"},on=R(()=>u("label",{for:"Parent_Compound_Structure"},"Parent Compound Structure",-1)),an=R(()=>u("i",{class:"pi pi-pencil text-orange-500 text-xl"},null,-1)),sn=[an],ln=R(()=>u("i",{class:"pi pi-eraser"},null,-1)),un=[ln],cn={class:"card p-fluid"},dn={class:"formgrid grid"},fn={class:"field col-12 md:col-2"},pn=R(()=>u("label",{for:"SpectraType"},"Spectra Type",-1)),_n={class:"field col-12 md:col-2"},gn=R(()=>u("label",{for:"AdductType"},"Adduct Type",-1)),hn={class:"card"},vn={class:"p-fluid formgrid grid"},yn=R(()=>u("div",{class:"field col-12 md:col-12"},null,-1)),mn={class:"field col-12 md:col-2"},bn={__name:"Form",props:{smiles_or_inchi_or_file:{type:String,default:""},smiles_or_inchi_or_fileModifiers:{},isSubmit:{default:!1},isSubmitModifiers:{},AdductType_dropdownItem:{type:Object,default:{name:"[M+H]+",code:"[M+H]+"}},AdductType_dropdownItemModifiers:{},SpectraType_dropdownItem:{type:Object,default:{name:"ESI",code:"ESI"}},SpectraType_dropdownItemModifiers:{}},emits:It(["update","confirm"],["update:smiles_or_inchi_or_file","update:isSubmit","update:AdductType_dropdownItem","update:SpectraType_dropdownItem"]),setup(e,{emit:t}){const n=ne(e,"smiles_or_inchi_or_file"),r=ne(e,"isSubmit"),a=ne(e,"AdductType_dropdownItem"),o=ne(e,"SpectraType_dropdownItem"),s=v([{name:"ESI",code:"ESI"}]),i=v([{name:"[M+H]+",code:"[M+H]+"},{name:"[M-H]-",code:"[M-H]-"}]),l=()=>{n.value=""},d=()=>{},h=()=>{r.value=!0},f=v(!1),_=()=>{f.value=!0},y=()=>{f.value=!1},p=v(""),c=$=>{p.value=$},g=t,w=()=>{g("confirm",p.value),y()};return($,S)=>{const O=P("Button"),C=P("Dialog"),de=P("InputGroupAddon"),ee=P("InputText"),J=P("InputGroup"),te=P("Dropdown");return b(),A("div",Xt,[u("div",Yt,[u("div",Zt,[T(C,{header:"JSME Molecule Editor",visible:f.value,"onUpdate:visible":S[0]||(S[0]=E=>f.value=E),breakpoints:{"960px":"75vw"},modal:!0},{footer:V(()=>[u("div",Qt,[u("span",en,se(p.value),1)]),T(O,{label:"Ok",onClick:w,icon:"pi pi-check",class:"p-button-outlined"})]),default:V(()=>[u("div",kt,[T(qt,{width:"100%",height:"50vh",modelValue:p.value,"onUpdate:modelValue":c},null,8,["modelValue"])])]),_:1},8,["visible"]),tn,u("div",nn,[u("div",rn,[on,T(J,null,{default:V(()=>[T(de,{onClick:d},{default:V(()=>[u("div",{onClick:_,class:"p-link flex align-items-center justify-content-center bg-orange-100 border-round",style:{width:"2.0rem",height:"2.0rem"}},sn)]),_:1}),T(ee,{modelValue:n.value,"onUpdate:modelValue":S[1]||(S[1]=E=>n.value=E),id:"Parent_Compound_Structure",type:"text",placeholder:"Enter an InChI or SMILES string"},null,8,["modelValue"]),T(de,{onClick:l},{default:V(()=>[u("button",{onClick:l,class:"p-link layout-topbar-button"},un)]),_:1})]),_:1})])]),u("div",cn,[u("div",dn,[u("div",fn,[pn,T(te,{id:"SpectraType",modelValue:o.value,"onUpdate:modelValue":S[2]||(S[2]=E=>o.value=E),options:s.value,optionLabel:"name",placeholder:"ESI"},null,8,["modelValue","options"])]),u("div",_n,[gn,T(te,{id:"AdductType",modelValue:a.value,"onUpdate:modelValue":S[3]||(S[3]=E=>a.value=E),options:i.value,optionLabel:"name",placeholder:"[M+H]+"},null,8,["modelValue","options"])])])]),u("div",hn,[u("div",vn,[yn,u("div",mn,[T(O,{onClick:h,label:"Submit",modelValue:r.value,"onUpdate:modelValue":S[4]||(S[4]=E=>r.value=E),class:"mr-2 mb-2"},null,8,["modelValue"])])])])])])])}}},wn=Mt(bn,[["__scopeId","data-v-28720605"]]),Sn={class:"grid"},$n={class:"col-12"},Tn={class:"card"},An=u("h5",null,"Calculating",-1),xn={class:"grid"},On={class:"col"},En={__name:"ProgressBar",setup(e){const t=v(0);let n=null;const r=()=>{n=setInterval(()=>{let o=t.value+Math.floor(Math.random()*10)+1;o>=90&&(o=90),t.value=o},2e3)},a=()=>{clearInterval(n),n=null};return ae(()=>{r()}),ot(()=>{a()}),(o,s)=>{const i=P("ProgressBar",!0);return b(),A("div",Sn,[u("div",$n,[u("div",Tn,[An,u("div",xn,[u("div",On,[T(i,{value:t.value},null,8,["value"])])])])])])}}};var Cn=typeof global=="object"&&global&&global.Object===Object&&global;const st=Cn;var Pn=typeof self=="object"&&self&&self.Object===Object&&self,Mn=st||Pn||Function("return this")();const I=Mn;var In=I.Symbol;const L=In;var it=Object.prototype,Dn=it.hasOwnProperty,jn=it.toString,q=L?L.toStringTag:void 0;function Ln(e){var t=Dn.call(e,q),n=e[q];try{e[q]=void 0;var r=!0}catch{}var a=jn.call(e);return r&&(t?e[q]=n:delete e[q]),a}var Fn=Object.prototype,Vn=Fn.toString;function Bn(e){return Vn.call(e)}var Rn="[object Null]",Nn="[object Undefined]",Ie=L?L.toStringTag:void 0;function z(e){return e==null?e===void 0?Nn:Rn:Ie&&Ie in Object(e)?Ln(e):Bn(e)}function H(e){return e!=null&&typeof e=="object"}var Un="[object Symbol]";function Z(e){return typeof e=="symbol"||H(e)&&z(e)==Un}function oe(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var Gn=Array.isArray;const x=Gn;var Hn=1/0,De=L?L.prototype:void 0,je=De?De.toString:void 0;function lt(e){if(typeof e=="string")return e;if(x(e))return oe(e,lt)+"";if(Z(e))return je?je.call(e):"";var t=e+"";return t=="0"&&1/e==-Hn?"-0":t}function Se(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function ut(e){return e}var zn="[object AsyncFunction]",Kn="[object Function]",Jn="[object GeneratorFunction]",Wn="[object Proxy]";function ct(e){if(!Se(e))return!1;var t=z(e);return t==Kn||t==Jn||t==zn||t==Wn}var qn=I["__core-js_shared__"];const _e=qn;var Le=function(){var e=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Xn(e){return!!Le&&Le in e}var Yn=Function.prototype,Zn=Yn.toString;function N(e){if(e!=null){try{return Zn.call(e)}catch{}try{return e+""}catch{}}return""}var kn=/[\\^$.*+?()[\]{}|]/g,Qn=/^\[object .+?Constructor\]$/,er=Function.prototype,tr=Object.prototype,nr=er.toString,rr=tr.hasOwnProperty,or=RegExp("^"+nr.call(rr).replace(kn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ar(e){if(!Se(e)||Xn(e))return!1;var t=ct(e)?or:Qn;return t.test(N(e))}function sr(e,t){return e==null?void 0:e[t]}function K(e,t){var n=sr(e,t);return ar(n)?n:void 0}var ir=K(I,"WeakMap");const ve=ir;var lr=9007199254740991,ur=/^(?:0|[1-9]\d*)$/;function dt(e,t){var n=typeof e;return t=t??lr,!!t&&(n=="number"||n!="symbol"&&ur.test(e))&&e>-1&&e%1==0&&e<t}function ft(e,t){return e===t||e!==e&&t!==t}var cr=9007199254740991;function $e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=cr}function Te(e){return e!=null&&$e(e.length)&&!ct(e)}var dr=Object.prototype;function fr(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||dr;return e===n}function pr(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var _r="[object Arguments]";function Fe(e){return H(e)&&z(e)==_r}var pt=Object.prototype,gr=pt.hasOwnProperty,hr=pt.propertyIsEnumerable,vr=Fe(function(){return arguments}())?Fe:function(e){return H(e)&&gr.call(e,"callee")&&!hr.call(e,"callee")};const _t=vr;function yr(){return!1}var gt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ve=gt&&typeof module=="object"&&module&&!module.nodeType&&module,mr=Ve&&Ve.exports===gt,Be=mr?I.Buffer:void 0,br=Be?Be.isBuffer:void 0,wr=br||yr;const ye=wr;var Sr="[object Arguments]",$r="[object Array]",Tr="[object Boolean]",Ar="[object Date]",xr="[object Error]",Or="[object Function]",Er="[object Map]",Cr="[object Number]",Pr="[object Object]",Mr="[object RegExp]",Ir="[object Set]",Dr="[object String]",jr="[object WeakMap]",Lr="[object ArrayBuffer]",Fr="[object DataView]",Vr="[object Float32Array]",Br="[object Float64Array]",Rr="[object Int8Array]",Nr="[object Int16Array]",Ur="[object Int32Array]",Gr="[object Uint8Array]",Hr="[object Uint8ClampedArray]",zr="[object Uint16Array]",Kr="[object Uint32Array]",m={};m[Vr]=m[Br]=m[Rr]=m[Nr]=m[Ur]=m[Gr]=m[Hr]=m[zr]=m[Kr]=!0;m[Sr]=m[$r]=m[Lr]=m[Tr]=m[Fr]=m[Ar]=m[xr]=m[Or]=m[Er]=m[Cr]=m[Pr]=m[Mr]=m[Ir]=m[Dr]=m[jr]=!1;function Jr(e){return H(e)&&$e(e.length)&&!!m[z(e)]}function ht(e){return function(t){return e(t)}}var vt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,X=vt&&typeof module=="object"&&module&&!module.nodeType&&module,Wr=X&&X.exports===vt,ge=Wr&&st.process,qr=function(){try{var e=X&&X.require&&X.require("util").types;return e||ge&&ge.binding&&ge.binding("util")}catch{}}();const Re=qr;var Ne=Re&&Re.isTypedArray,Xr=Ne?ht(Ne):Jr;const yt=Xr;var Yr=Object.prototype,Zr=Yr.hasOwnProperty;function kr(e,t){var n=x(e),r=!n&&_t(e),a=!n&&!r&&ye(e),o=!n&&!r&&!a&&yt(e),s=n||r||a||o,i=s?pr(e.length,String):[],l=i.length;for(var d in e)(t||Zr.call(e,d))&&!(s&&(d=="length"||a&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||dt(d,l)))&&i.push(d);return i}function Qr(e,t){return function(n){return e(t(n))}}var eo=Qr(Object.keys,Object);const to=eo;var no=Object.prototype,ro=no.hasOwnProperty;function oo(e){if(!fr(e))return to(e);var t=[];for(var n in Object(e))ro.call(e,n)&&n!="constructor"&&t.push(n);return t}function Ae(e){return Te(e)?kr(e):oo(e)}var ao=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,so=/^\w*$/;function xe(e,t){if(x(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Z(e)?!0:so.test(e)||!ao.test(e)||t!=null&&e in Object(t)}var io=K(Object,"create");const k=io;function lo(){this.__data__=k?k(null):{},this.size=0}function uo(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var co="__lodash_hash_undefined__",fo=Object.prototype,po=fo.hasOwnProperty;function _o(e){var t=this.__data__;if(k){var n=t[e];return n===co?void 0:n}return po.call(t,e)?t[e]:void 0}var go=Object.prototype,ho=go.hasOwnProperty;function vo(e){var t=this.__data__;return k?t[e]!==void 0:ho.call(t,e)}var yo="__lodash_hash_undefined__";function mo(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=k&&t===void 0?yo:t,this}function B(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}B.prototype.clear=lo;B.prototype.delete=uo;B.prototype.get=_o;B.prototype.has=vo;B.prototype.set=mo;function bo(){this.__data__=[],this.size=0}function le(e,t){for(var n=e.length;n--;)if(ft(e[n][0],t))return n;return-1}var wo=Array.prototype,So=wo.splice;function $o(e){var t=this.__data__,n=le(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():So.call(t,n,1),--this.size,!0}function To(e){var t=this.__data__,n=le(t,e);return n<0?void 0:t[n][1]}function Ao(e){return le(this.__data__,e)>-1}function xo(e,t){var n=this.__data__,r=le(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function D(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}D.prototype.clear=bo;D.prototype.delete=$o;D.prototype.get=To;D.prototype.has=Ao;D.prototype.set=xo;var Oo=K(I,"Map");const Q=Oo;function Eo(){this.size=0,this.__data__={hash:new B,map:new(Q||D),string:new B}}function Co(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ue(e,t){var n=e.__data__;return Co(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Po(e){var t=ue(this,e).delete(e);return this.size-=t?1:0,t}function Mo(e){return ue(this,e).get(e)}function Io(e){return ue(this,e).has(e)}function Do(e,t){var n=ue(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function j(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}j.prototype.clear=Eo;j.prototype.delete=Po;j.prototype.get=Mo;j.prototype.has=Io;j.prototype.set=Do;var jo="Expected a function";function Oe(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(jo);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var s=e.apply(this,r);return n.cache=o.set(a,s)||o,s};return n.cache=new(Oe.Cache||j),n}Oe.Cache=j;var Lo=500;function Fo(e){var t=Oe(e,function(r){return n.size===Lo&&n.clear(),r}),n=t.cache;return t}var Vo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bo=/\\(\\)?/g,Ro=Fo(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Vo,function(n,r,a,o){t.push(a?o.replace(Bo,"$1"):r||n)}),t});const No=Ro;function Uo(e){return e==null?"":lt(e)}function mt(e,t){return x(e)?e:xe(e,t)?[e]:No(Uo(e))}var Go=1/0;function ce(e){if(typeof e=="string"||Z(e))return e;var t=e+"";return t=="0"&&1/e==-Go?"-0":t}function Ee(e,t){t=mt(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ce(t[n++])];return n&&n==r?e:void 0}function Ho(e,t,n){var r=e==null?void 0:Ee(e,t);return r===void 0?n:r}function zo(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function Ko(){this.__data__=new D,this.size=0}function Jo(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Wo(e){return this.__data__.get(e)}function qo(e){return this.__data__.has(e)}var Xo=200;function Yo(e,t){var n=this.__data__;if(n instanceof D){var r=n.__data__;if(!Q||r.length<Xo-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new j(r)}return n.set(e,t),this.size=n.size,this}function M(e){var t=this.__data__=new D(e);this.size=t.size}M.prototype.clear=Ko;M.prototype.delete=Jo;M.prototype.get=Wo;M.prototype.has=qo;M.prototype.set=Yo;function Zo(e,t){for(var n=-1,r=e==null?0:e.length,a=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[a++]=s)}return o}function ko(){return[]}var Qo=Object.prototype,ea=Qo.propertyIsEnumerable,Ue=Object.getOwnPropertySymbols,ta=Ue?function(e){return e==null?[]:(e=Object(e),Zo(Ue(e),function(t){return ea.call(e,t)}))}:ko;const na=ta;function ra(e,t,n){var r=t(e);return x(e)?r:zo(r,n(e))}function Ge(e){return ra(e,Ae,na)}var oa=K(I,"DataView");const me=oa;var aa=K(I,"Promise");const be=aa;var sa=K(I,"Set");const we=sa;var He="[object Map]",ia="[object Object]",ze="[object Promise]",Ke="[object Set]",Je="[object WeakMap]",We="[object DataView]",la=N(me),ua=N(Q),ca=N(be),da=N(we),fa=N(ve),F=z;(me&&F(new me(new ArrayBuffer(1)))!=We||Q&&F(new Q)!=He||be&&F(be.resolve())!=ze||we&&F(new we)!=Ke||ve&&F(new ve)!=Je)&&(F=function(e){var t=z(e),n=t==ia?e.constructor:void 0,r=n?N(n):"";if(r)switch(r){case la:return We;case ua:return He;case ca:return ze;case da:return Ke;case fa:return Je}return t});const qe=F;var pa=I.Uint8Array;const Xe=pa;var _a="__lodash_hash_undefined__";function ga(e){return this.__data__.set(e,_a),this}function ha(e){return this.__data__.has(e)}function ie(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new j;++t<n;)this.add(e[t])}ie.prototype.add=ie.prototype.push=ga;ie.prototype.has=ha;function va(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ya(e,t){return e.has(t)}var ma=1,ba=2;function bt(e,t,n,r,a,o){var s=n&ma,i=e.length,l=t.length;if(i!=l&&!(s&&l>i))return!1;var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var f=-1,_=!0,y=n&ba?new ie:void 0;for(o.set(e,t),o.set(t,e);++f<i;){var p=e[f],c=t[f];if(r)var g=s?r(c,p,f,t,e,o):r(p,c,f,e,t,o);if(g!==void 0){if(g)continue;_=!1;break}if(y){if(!va(t,function(w,$){if(!ya(y,$)&&(p===w||a(p,w,n,r,o)))return y.push($)})){_=!1;break}}else if(!(p===c||a(p,c,n,r,o))){_=!1;break}}return o.delete(e),o.delete(t),_}function wa(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}function Sa(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var $a=1,Ta=2,Aa="[object Boolean]",xa="[object Date]",Oa="[object Error]",Ea="[object Map]",Ca="[object Number]",Pa="[object RegExp]",Ma="[object Set]",Ia="[object String]",Da="[object Symbol]",ja="[object ArrayBuffer]",La="[object DataView]",Ye=L?L.prototype:void 0,he=Ye?Ye.valueOf:void 0;function Fa(e,t,n,r,a,o,s){switch(n){case La:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ja:return!(e.byteLength!=t.byteLength||!o(new Xe(e),new Xe(t)));case Aa:case xa:case Ca:return ft(+e,+t);case Oa:return e.name==t.name&&e.message==t.message;case Pa:case Ia:return e==t+"";case Ea:var i=wa;case Ma:var l=r&$a;if(i||(i=Sa),e.size!=t.size&&!l)return!1;var d=s.get(e);if(d)return d==t;r|=Ta,s.set(e,t);var h=bt(i(e),i(t),r,a,o,s);return s.delete(e),h;case Da:if(he)return he.call(e)==he.call(t)}return!1}var Va=1,Ba=Object.prototype,Ra=Ba.hasOwnProperty;function Na(e,t,n,r,a,o){var s=n&Va,i=Ge(e),l=i.length,d=Ge(t),h=d.length;if(l!=h&&!s)return!1;for(var f=l;f--;){var _=i[f];if(!(s?_ in t:Ra.call(t,_)))return!1}var y=o.get(e),p=o.get(t);if(y&&p)return y==t&&p==e;var c=!0;o.set(e,t),o.set(t,e);for(var g=s;++f<l;){_=i[f];var w=e[_],$=t[_];if(r)var S=s?r($,w,_,t,e,o):r(w,$,_,e,t,o);if(!(S===void 0?w===$||a(w,$,n,r,o):S)){c=!1;break}g||(g=_=="constructor")}if(c&&!g){var O=e.constructor,C=t.constructor;O!=C&&"constructor"in e&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof C=="function"&&C instanceof C)&&(c=!1)}return o.delete(e),o.delete(t),c}var Ua=1,Ze="[object Arguments]",ke="[object Array]",re="[object Object]",Ga=Object.prototype,Qe=Ga.hasOwnProperty;function Ha(e,t,n,r,a,o){var s=x(e),i=x(t),l=s?ke:qe(e),d=i?ke:qe(t);l=l==Ze?re:l,d=d==Ze?re:d;var h=l==re,f=d==re,_=l==d;if(_&&ye(e)){if(!ye(t))return!1;s=!0,h=!1}if(_&&!h)return o||(o=new M),s||yt(e)?bt(e,t,n,r,a,o):Fa(e,t,l,n,r,a,o);if(!(n&Ua)){var y=h&&Qe.call(e,"__wrapped__"),p=f&&Qe.call(t,"__wrapped__");if(y||p){var c=y?e.value():e,g=p?t.value():t;return o||(o=new M),a(c,g,n,r,o)}}return _?(o||(o=new M),Na(e,t,n,r,a,o)):!1}function Ce(e,t,n,r,a){return e===t?!0:e==null||t==null||!H(e)&&!H(t)?e!==e&&t!==t:Ha(e,t,n,r,Ce,a)}var za=1,Ka=2;function Ja(e,t,n,r){var a=n.length,o=a,s=!r;if(e==null)return!o;for(e=Object(e);a--;){var i=n[a];if(s&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++a<o;){i=n[a];var l=i[0],d=e[l],h=i[1];if(s&&i[2]){if(d===void 0&&!(l in e))return!1}else{var f=new M;if(r)var _=r(d,h,l,e,t,f);if(!(_===void 0?Ce(h,d,za|Ka,r,f):_))return!1}}return!0}function wt(e){return e===e&&!Se(e)}function Wa(e){for(var t=Ae(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,wt(a)]}return t}function St(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function qa(e){var t=Wa(e);return t.length==1&&t[0][2]?St(t[0][0],t[0][1]):function(n){return n===e||Ja(n,e,t)}}function Xa(e,t){return e!=null&&t in Object(e)}function Ya(e,t,n){t=mt(t,e);for(var r=-1,a=t.length,o=!1;++r<a;){var s=ce(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=a?o:(a=e==null?0:e.length,!!a&&$e(a)&&dt(s,a)&&(x(e)||_t(e)))}function Za(e,t){return e!=null&&Ya(e,t,Xa)}var ka=1,Qa=2;function es(e,t){return xe(e)&&wt(t)?St(ce(e),t):function(n){var r=Ho(n,e);return r===void 0&&r===t?Za(n,e):Ce(t,r,ka|Qa)}}function ts(e){return function(t){return t==null?void 0:t[e]}}function ns(e){return function(t){return Ee(t,e)}}function rs(e){return xe(e)?ts(ce(e)):ns(e)}function os(e){return typeof e=="function"?e:e==null?ut:typeof e=="object"?x(e)?es(e[0],e[1]):qa(e):rs(e)}function as(e){return function(t,n,r){for(var a=-1,o=Object(t),s=r(t),i=s.length;i--;){var l=s[e?i:++a];if(n(o[l],l,o)===!1)break}return t}}var ss=as();const is=ss;function ls(e,t){return e&&is(e,t,Ae)}function us(e,t){return function(n,r){if(n==null)return n;if(!Te(n))return e(n,r);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&r(s[o],o,s)!==!1;);return n}}var cs=us(ls);const ds=cs;function fs(e,t){var n=-1,r=Te(e)?Array(e.length):[];return ds(e,function(a,o,s){r[++n]=t(a,o,s)}),r}function ps(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function _s(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,o=Z(e),s=t!==void 0,i=t===null,l=t===t,d=Z(t);if(!i&&!d&&!o&&e>t||o&&s&&l&&!i&&!d||r&&s&&l||!n&&l||!a)return 1;if(!r&&!o&&!d&&e<t||d&&n&&a&&!r&&!o||i&&n&&a||!s&&a||!l)return-1}return 0}function gs(e,t,n){for(var r=-1,a=e.criteria,o=t.criteria,s=a.length,i=n.length;++r<s;){var l=_s(a[r],o[r]);if(l){if(r>=i)return l;var d=n[r];return l*(d=="desc"?-1:1)}}return e.index-t.index}function hs(e,t,n){t.length?t=oe(t,function(o){return x(o)?function(s){return Ee(s,o.length===1?o[0]:o)}:o}):t=[ut];var r=-1;t=oe(t,ht(os));var a=fs(e,function(o,s,i){var l=oe(t,function(d){return d(o)});return{criteria:l,index:++r,value:o}});return ps(a,function(o,s){return gs(o,s,n)})}function et(e,t,n,r){return e==null?[]:(x(t)||(t=t==null?[]:[t]),n=r?void 0:n,x(n)||(n=n==null?[]:[n]),hs(e,t,n))}const vs={class:"grid"},ys={class:"col-12"},ms={class:"card"},bs=u("h5",null,"DataView",-1),ws={class:"grid grid-nogutter"},Ss={class:"col-6 text-left"},$s={class:"grid grid-nogutter"},Ts={class:"p-4 border-1 surface-border surface-card border-round flex flex-column"},As={class:"surface-50 flex justify-content-center border-round p-3"},xs={class:"relative mx-auto"},Os={class:"pt-4"},Es={class:"flex flex-row justify-content-between align-items-start gap-2"},Cs={class:"text-lg font-medium text-teal-400 mt-1"},Ps={class:"flex flex-column gap-4 mt-4"},Ms={class:"text-xl font-semibold text-cyan-500"},Is={__name:"List",props:{energyData:{type:Object,default:()=>({})}},setup(e){const n=v(Object.entries(e.energyData).map(([h,f])=>({fregment_id:h,mass:f[0],SMILES:f[1]}))),r=Lt(()=>et(n.value,[i.value],[s.value===1?"asc":"desc"]));v("");const a=v("grid"),o=v(null),s=v(1),i=v("mass"),l=v([{label:"Mass High to Low",value:"!mass"},{label:"Mass Low to High",value:"mass"}]),d=h=>{const f=h.value.value,_=h.value;f.indexOf("!")===0?(s.value=-1,i.value=f.substring(1,f.length).toLowerCase(),o.value=_):(s.value=1,i.value=f.toLowerCase(),o.value=_)};return G([s,i],()=>{r.value=et(n.value,[i.value],[s.value===1?"asc":"desc"])}),(h,f)=>{const _=P("Dropdown"),y=P("DataView");return b(),A("div",vs,[u("div",ys,[u("div",ms,[bs,T(y,{value:r.value,layout:a.value,paginator:!0,rows:9,sortOrder:s.value,sortField:i.value},{header:V(()=>[u("div",ws,[u("div",Ss,[T(_,{modelValue:o.value,"onUpdate:modelValue":f[0]||(f[0]=p=>o.value=p),options:l.value,optionLabel:"label",placeholder:"Sort By Mass",onChange:f[1]||(f[1]=p=>d(p))},null,8,["modelValue","options"])])])]),grid:V(p=>[u("div",$s,[(b(!0),A(Y,null,rt(p.items,(c,g)=>(b(),A("div",{key:g,class:"col-12 sm:col-6 md:col-4 p-2"},[u("div",Ts,[u("div",As,[u("div",xs,[T(at,{molecules:c.SMILES},null,8,["molecules"])])]),u("div",Os,[u("div",Es,[u("div",null,[u("div",Cs,se(c.mass),1)])]),u("div",Ps,[u("span",Ms,se(c.SMILES),1)])])])]))),128))])]),_:1},8,["value","layout","sortOrder","sortField"])])])])}}},Ds=u("h1",null,"CFM-ID",-1),Fs={__name:"CFMID",setup(e){const t=v(""),n=v({name:"[M+H]+",code:"[M+H]+"}),r=v(!1),a=v(null);v(""),G(r,s=>{s&&o()});const o=()=>{r.value=!0,Ft.post("/predict",{smiles_or_inchi_or_file:t.value,AdductType:n.value.code}).then(s=>{a.value=s.data.result,r.value=!1}).catch(s=>{console.error(s.response.data),r.value=!1})};return(s,i)=>(b(),A(Y,null,[Ds,T(wn,{smiles_or_inchi_or_file:t.value,"onUpdate:smiles_or_inchi_or_file":i[0]||(i[0]=l=>t.value=l),isSubmit:r.value,"onUpdate:isSubmit":i[1]||(i[1]=l=>r.value=l),AdductType_dropdownItem:n.value,"onUpdate:AdductType_dropdownItem":i[2]||(i[2]=l=>n.value=l),onConfirm:i[3]||(i[3]=l=>t.value=l)},null,8,["smiles_or_inchi_or_file","isSubmit","AdductType_dropdownItem"]),r.value?(b(),W(En,{key:0})):U("",!0),!r.value&&a.value&&a.value.energy0?(b(),W(pe,{key:1,energyData:a.value.energy0,Energy_level:"Low Energy"},null,8,["energyData"])):U("",!0),!r.value&&a.value&&a.value.energy1?(b(),W(pe,{key:2,energyData:a.value.energy1,Energy_level:"Middle Energy"},null,8,["energyData"])):U("",!0),!r.value&&a.value&&a.value.energy2?(b(),W(pe,{key:3,energyData:a.value.energy2,Energy_level:"High Energy"},null,8,["energyData"])):U("",!0),!r.value&&a.value&&a.value.fragment?(b(),W(Is,{key:4,energyData:a.value.fragment},null,8,["energyData"])):U("",!0)],64))}};export{Fs as default};
