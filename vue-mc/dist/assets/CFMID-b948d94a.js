import{e as ot,f as y,g as se,h as G,i as Ot,j as Et,k as Mt,o as S,c as $,u as pe,l as H,n as je,m as st,b as d,F as z,p as Ct,q as Te,a as T,s as Pt,r as M,t as k,v as Dt,x as It,y as it,_ as jt,z as Lt,A as lt,B as re,w as D,T as Ft,C as U,d as Vt,D as Bt,E as Rt}from"./index-5f41ef62.js";const Le=(()=>{let e;return()=>(e||(e=new Promise((t,n)=>{window.initRDKitModule().then(r=>{window.RDKit=r,t(r)}).catch(r=>{n()})})),e)})(),Nt={key:0},Ht={key:1},Ut=["title"],Gt=["innerHTML"],zt=["title","id","width","height"],Kt=ot({__name:"MoleculeStructure",props:{id:{type:String,required:!0},className:{type:String,default:""},svgMode:{type:Boolean,default:!1},width:{type:Number,default:250},height:{type:Number,default:200},structure:{type:String,required:!0},subStructure:{type:String,default:""},extraDetails:{type:Object,default:{}},drawingDelay:{type:Number,default:void 0}},setup(e){const t=e,n=y(null),r=y(null);function o(){t.svgMode&&n.value?(c.width=n.value.clientWidth,c.height=n.value.clientHeight):!t.svgMode&&r.value&&(c.width=r.value.clientWidth,c.height=r.value.clientHeight)}function a(){o(),h()}se(()=>{Le().then(()=>{s.value=!0,o(),p()}).catch(f=>{console.error(f),i.value=!0})}),G(t,a),window.addEventListener("resize",a),Ot(()=>{window.removeEventListener("resize",a)});let s=y(!1),i=y(!1);y(!1);let c=Et({width:t.width,height:t.height,bondLineWidth:1,addStereoAnnotation:!0,...t.extraDetails}),l=y("");function g(f){return!!f}function u(f){const v=window.RDKit.get_mol(f||"invalid"),w=g(v);return v==null||v.delete(),w}function _(f,v){if(g(f)&&g(v)){const w=JSON.parse((f==null?void 0:f.get_substruct_matches(v))||""),A=w&&w.reduce((C,{atoms:P,bonds:E})=>({atoms:[...C.atoms,...P],bonds:[...C.bonds,...E]}),{atoms:[],bonds:[]});return JSON.stringify({...c,...t.extraDetails||{},...A})}else return JSON.stringify({...c,...t.extraDetails||{}})}async function h(){const f=window.RDKit.get_mol(t.structure||"invalid"),v=window.RDKit.get_qmol(t.subStructure||"invalid"),w=g(f);if(t.svgMode&&w){const A=f.get_svg_with_highlights(_(f,v));l.value=A}else if(w){await Ct();const A=document.getElementById(t.id);f.draw_to_canvas_with_highlights(A,_(f,v))}f==null||f.delete(),v==null||v.delete()}function p(){t.drawingDelay?setTimeout(()=>h(),t.drawingDelay):h()}return se(()=>{Le().then(()=>{s.value=!0;try{p()}catch(f){console.error(f)}}).catch(f=>{console.error(f),i.value=!0})}),Mt(()=>{!i&&s&&t.svgMode}),G(t,()=>p()),(f,v)=>(S(),$(z,null,[pe(i)?(S(),$("p",Nt,"Error loading renderer")):H("",!0),pe(s)?u(e.structure)?e.svgMode?(S(),$("div",{key:3,class:je(`molecule-structure-svg ${e.className}`),style:st({width:t.width,height:t.height}),innerHTML:pe(l)},null,14,Gt)):(S(),$("div",{key:4,class:je(`molecule-canvas-container ${e.className}`)},[d("canvas",{title:e.structure,id:e.id,width:e.width,height:e.height},null,8,zt)],2)):(S(),$("span",{key:2,title:`Cannot render structure: ${e.structure}`},null,8,Ut)):(S(),$("p",Ht,"Loading renderer"))],64))}});const Jt={class:"columns is-desktop"},ut=ot({__name:"RDKit-SVG",props:{molecules:{type:String,default:""}},setup(e){const t=e,n=y([t.molecules]);return G(()=>t.molecules,r=>{n.value=[r]},{immediate:!0}),(r,o)=>(S(),$(z,null,[o[0]||(o[0]=d("div",{id:"component-example-svg",class:"container"},[d("section",{class:"hero"},[d("div",{class:"hero-body"})])],-1)),d("div",Jt,[(S(!0),$(z,null,Te(n.value,(a,s)=>(S(),$("div",{class:"column",key:s},[T(Kt,{id:`structure-example-svg-${s}`,structure:a,"svg-mode":""},null,8,["id","structure"])]))),128))])],64))}}),Wt={class:"grid p-fluid"},qt={class:"col-12 xl:col-12"},Xt={class:"card"},ge={__name:"Bar",props:{energyData:{type:Object,default:()=>({})},Energy_level:{type:String,default:"Energy"}},setup(e){const t=e,n=h=>{let p=h.canvas.parentNode.querySelector("div");return p||(p=document.createElement("div"),p.style.opacity=0,p.style.position="absolute",p.style.pointerEvents="none",p.style.transition="all .1s ease",h.canvas.parentNode.appendChild(p)),p},r=h=>{const{chart:p,tooltip:f}=h,v=n(p);if(f.opacity===0){v.style.opacity=0;return}let w="";if(f.dataPoints&&f.dataPoints.length){const fe=f.dataPoints[0].label;w=t.energyData[fe][1][1]}const A=Dt({render(){return It(ut,{molecules:w})}}),C=document.createElement("div");A.mount(C),v.innerHTML="",v.appendChild(C);const{offsetLeft:P,offsetTop:E}=p.canvas;v.style.opacity=1;const q=p.canvas.offsetWidth/2,X=f.caretX,ne=X<q?0:-250,de=X<q?-200:-180;v.style.left=P+X+ne+"px",v.style.top=E+f.caretY+de+"px",v.style.pointerEvents="none"},{layoutConfig:o}=Pt();let a=getComputedStyle(document.documentElement),s=a.getPropertyValue("--text-color"),i=a.getPropertyValue("--text-color-secondary"),c=a.getPropertyValue("--surface-border");const l=y(null),g=y(null),u=()=>{a=getComputedStyle(document.documentElement),s=a.getPropertyValue("--text-color"),i=a.getPropertyValue("--text-color-secondary"),c=a.getPropertyValue("--surface-border")},_=()=>{const h=Object.keys(t.energyData),p=Object.keys(t.energyData).map(f=>parseFloat(t.energyData[f][0]));l.value={labels:h,datasets:[{label:"Intensity",backgroundColor:a.getPropertyValue("--primary-500"),borderColor:a.getPropertyValue("--primary-500"),data:p,barThickness:7}]},g.value={plugins:{tooltip:{enabled:!0,external:r,position:"nearest"},legend:{labels:{fontColor:s}}},scales:{x:{beginAtZero:!0,type:"linear",position:"bottom",ticks:{stepSize:10,color:i,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{ticks:{color:i},grid:{color:c,drawBorder:!1}}}}};return G(o.theme,()=>{u(),_()},{immediate:!0}),(h,p)=>{const f=M("Chart");return S(),$("div",Wt,[d("div",qt,[d("div",Xt,[d("h5",null,k(t.Energy_level),1),T(f,{type:"bar",data:l.value,options:g.value},null,8,["data","options"])])])])}}},Yt={__name:"JSME",props:{width:{type:String,default:""},height:{type:String,default:'"100%"'},onChange:{type:Function,default:()=>{}},src:{type:String,default:"/public/jsme/jsme.nocache.js"},modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,o=`JME-${Math.random().toString(36).substr(2,9)}`,a=y(!1),s=y(n.modelValue);let i;const c=()=>{const u=document.createElement("script");u.type="text/javascript",u.src=n.src,u.onload=l,document.head.appendChild(u)},l=()=>{i=new window.JSApplet.JSME(o,n.width,n.height,{options:"fullScreenIcon,query,hydrogens",guicolor:"#FFE082",guiAtomColor:"#000000"}),n.modelValue&&i.readGenericMolecularInput(n.modelValue),i.setCallBack("AfterStructureModified",u=>{const _=u.src.smiles();s.value=_,r("update:modelValue",_),n.onChange(_)}),a.value=!0},g=()=>{i&&i.destroy&&i.destroy()};return se(()=>{var u;(u=window.JSApplet)!=null&&u.JSME?l():c()}),it(()=>{g()}),(u,_)=>(S(),$("div",null,[d("div",{style:st({width:e.width,height:e.height,outline:a.value?"":"1px solid black",outlineOffset:"-.5px",textAlign:"center"})},[d("div",{id:o})],4)]))}};const Zt={class:"grid"},kt={class:"col-12"},Qt={class:"card"},en={class:"responsive-container"},tn={class:"flex flex-column gap-2 mt-2"},nn={class:"text-xl font-semibold text-cyan-500"},rn={class:"p-fluid formgrid grid"},an={class:"field col-12 md:col-12"},on={class:"card p-fluid"},sn={class:"formgrid grid"},ln={class:"field col-12 md:col-2"},un={class:"field col-12 md:col-2"},cn={class:"card"},dn={class:"p-fluid formgrid grid"},fn={class:"field col-12 md:col-2"},pn={__name:"Form",props:{smiles_or_inchi_or_file:{type:String,default:""},smiles_or_inchi_or_fileModifiers:{},isSubmit:{default:!1},isSubmitModifiers:{},AdductType_dropdownItem:{type:Object,default:{name:"[M+H]+",code:"[M+H]+"}},AdductType_dropdownItemModifiers:{},SpectraType_dropdownItem:{type:Object,default:{name:"ESI",code:"ESI"}},SpectraType_dropdownItemModifiers:{}},emits:Lt(["update","confirm"],["update:smiles_or_inchi_or_file","update:isSubmit","update:AdductType_dropdownItem","update:SpectraType_dropdownItem"]),setup(e,{emit:t}){const n=lt(),r=y([]);y(0);const o=()=>{n.add({severity:"error",summary:"Error Message",detail:"Input box can not be empty.",life:5e3})},a=re(e,"smiles_or_inchi_or_file"),s=re(e,"isSubmit"),i=re(e,"AdductType_dropdownItem"),c=re(e,"SpectraType_dropdownItem"),l=y([{name:"ESI",code:"ESI"}]),g=y([{name:"[M+H]+",code:"[M+H]+"},{name:"[M-H]-",code:"[M-H]-"}]),u=()=>{a.value=""},_=()=>{},h=()=>{a.value==""?o():s.value=!0},p=y(!1),f=()=>{p.value=!0},v=()=>{p.value=!1},w=y(""),A=E=>{w.value=E},C=t,P=()=>{C("confirm",w.value),v()};return(E,m)=>{const q=M("Button"),X=M("Dialog"),ne=M("InputGroupAddon"),de=M("InputText"),De=M("InputGroup"),fe=M("Message"),Ie=M("Dropdown");return S(),$("div",Zt,[d("div",kt,[d("div",Qt,[T(X,{header:"JSME Molecule Editor",visible:p.value,"onUpdate:visible":m[0]||(m[0]=x=>p.value=x),breakpoints:{"960px":"75vw"},modal:!0},{footer:D(()=>[d("div",tn,[d("span",nn,k(w.value),1)]),T(q,{label:"Ok",onClick:P,icon:"pi pi-check",class:"p-button-outlined"})]),default:D(()=>[d("div",en,[T(Yt,{width:"100%",height:"50vh",modelValue:w.value,"onUpdate:modelValue":A},null,8,["modelValue"])])]),_:1},8,["visible"]),m[11]||(m[11]=d("h4",null,"Spectra Prediction",-1)),d("div",rn,[d("div",an,[m[7]||(m[7]=d("label",{for:"Parent_Compound_Structure"},"Harnessing AI to revolutionize mass spectrometry predictions",-1)),T(De,null,{default:D(()=>[T(ne,{onClick:_},{default:D(()=>[d("div",{onClick:f,class:"p-link flex align-items-center justify-content-center bg-orange-100 border-round",style:{width:"2.0rem",height:"2.0rem"}},m[5]||(m[5]=[d("i",{class:"pi pi-pencil text-orange-500 text-xl"},null,-1)]))]),_:1}),T(de,{modelValue:a.value,"onUpdate:modelValue":m[1]||(m[1]=x=>a.value=x),id:"Parent_Compound_Structure",type:"text",placeholder:"Draw or Enter a SMILES string"},null,8,["modelValue"]),T(ne,{onClick:u},{default:D(()=>[d("button",{onClick:u,class:"p-link layout-topbar-button"},m[6]||(m[6]=[d("i",{class:"pi pi-eraser"},null,-1)]))]),_:1})]),_:1}),T(Ft,{name:"p-message",tag:"div"},{default:D(()=>[(S(!0),$(z,null,Te(r.value,x=>(S(),U(fe,{severity:x.severity,key:x.content},{default:D(()=>[Vt(k(x.content),1)]),_:2},1032,["severity"]))),128))]),_:1})])]),d("div",on,[d("div",sn,[d("div",ln,[m[8]||(m[8]=d("label",{for:"SpectraType"},"Spectra Type",-1)),T(Ie,{id:"SpectraType",modelValue:c.value,"onUpdate:modelValue":m[2]||(m[2]=x=>c.value=x),options:l.value,optionLabel:"name",placeholder:"ESI"},null,8,["modelValue","options"])]),d("div",un,[m[9]||(m[9]=d("label",{for:"AdductType"},"Adduct Type",-1)),T(Ie,{id:"AdductType",modelValue:i.value,"onUpdate:modelValue":m[3]||(m[3]=x=>i.value=x),options:g.value,optionLabel:"name",placeholder:"[M+H]+"},null,8,["modelValue","options"])])])]),d("div",cn,[d("div",dn,[m[10]||(m[10]=d("div",{class:"field col-12 md:col-12"},null,-1)),d("div",fn,[T(q,{onClick:h,label:"Submit",modelValue:s.value,"onUpdate:modelValue":m[4]||(m[4]=x=>s.value=x),class:"mr-2 mb-2"},null,8,["modelValue"])])])])])])])}}},gn=jt(pn,[["__scopeId","data-v-d1baf167"]]),_n={class:"grid"},vn={class:"col-12"},yn={class:"card"},hn={class:"grid"},mn={class:"col"},bn={__name:"ProgressBar",setup(e){const t=y(0);let n=null;const r=()=>{n=setInterval(()=>{let a=t.value+Math.floor(Math.random()*10)+1;a>=90&&(a=90),t.value=a},2e3)},o=()=>{clearInterval(n),n=null};return se(()=>{r()}),it(()=>{o()}),(a,s)=>{const i=M("ProgressBar",!0);return S(),$("div",_n,[d("div",vn,[d("div",yn,[s[0]||(s[0]=d("h5",null,"Calculating",-1)),d("div",hn,[d("div",mn,[T(i,{value:t.value},null,8,["value"])])])])])])}}};var wn=typeof global=="object"&&global&&global.Object===Object&&global;const ct=wn;var Sn=typeof self=="object"&&self&&self.Object===Object&&self,Tn=ct||Sn||Function("return this")();const j=Tn;var $n=j.Symbol;const V=$n;var dt=Object.prototype,An=dt.hasOwnProperty,xn=dt.toString,Y=V?V.toStringTag:void 0;function On(e){var t=An.call(e,Y),n=e[Y];try{e[Y]=void 0;var r=!0}catch{}var o=xn.call(e);return r&&(t?e[Y]=n:delete e[Y]),o}var En=Object.prototype,Mn=En.toString;function Cn(e){return Mn.call(e)}var Pn="[object Null]",Dn="[object Undefined]",Fe=V?V.toStringTag:void 0;function J(e){return e==null?e===void 0?Dn:Pn:Fe&&Fe in Object(e)?On(e):Cn(e)}function K(e){return e!=null&&typeof e=="object"}var In="[object Symbol]";function Q(e){return typeof e=="symbol"||K(e)&&J(e)==In}function oe(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var jn=Array.isArray;const O=jn;var Ln=1/0,Ve=V?V.prototype:void 0,Be=Ve?Ve.toString:void 0;function ft(e){if(typeof e=="string")return e;if(O(e))return oe(e,ft)+"";if(Q(e))return Be?Be.call(e):"";var t=e+"";return t=="0"&&1/e==-Ln?"-0":t}function $e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function pt(e){return e}var Fn="[object AsyncFunction]",Vn="[object Function]",Bn="[object GeneratorFunction]",Rn="[object Proxy]";function gt(e){if(!$e(e))return!1;var t=J(e);return t==Vn||t==Bn||t==Fn||t==Rn}var Nn=j["__core-js_shared__"];const _e=Nn;var Re=function(){var e=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Hn(e){return!!Re&&Re in e}var Un=Function.prototype,Gn=Un.toString;function N(e){if(e!=null){try{return Gn.call(e)}catch{}try{return e+""}catch{}}return""}var zn=/[\\^$.*+?()[\]{}|]/g,Kn=/^\[object .+?Constructor\]$/,Jn=Function.prototype,Wn=Object.prototype,qn=Jn.toString,Xn=Wn.hasOwnProperty,Yn=RegExp("^"+qn.call(Xn).replace(zn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zn(e){if(!$e(e)||Hn(e))return!1;var t=gt(e)?Yn:Kn;return t.test(N(e))}function kn(e,t){return e==null?void 0:e[t]}function W(e,t){var n=kn(e,t);return Zn(n)?n:void 0}var Qn=W(j,"WeakMap");const he=Qn;var er=9007199254740991,tr=/^(?:0|[1-9]\d*)$/;function _t(e,t){var n=typeof e;return t=t??er,!!t&&(n=="number"||n!="symbol"&&tr.test(e))&&e>-1&&e%1==0&&e<t}function vt(e,t){return e===t||e!==e&&t!==t}var nr=9007199254740991;function Ae(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=nr}function xe(e){return e!=null&&Ae(e.length)&&!gt(e)}var rr=Object.prototype;function ar(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||rr;return e===n}function or(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var sr="[object Arguments]";function Ne(e){return K(e)&&J(e)==sr}var yt=Object.prototype,ir=yt.hasOwnProperty,lr=yt.propertyIsEnumerable,ur=Ne(function(){return arguments}())?Ne:function(e){return K(e)&&ir.call(e,"callee")&&!lr.call(e,"callee")};const ht=ur;function cr(){return!1}var mt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,He=mt&&typeof module=="object"&&module&&!module.nodeType&&module,dr=He&&He.exports===mt,Ue=dr?j.Buffer:void 0,fr=Ue?Ue.isBuffer:void 0,pr=fr||cr;const me=pr;var gr="[object Arguments]",_r="[object Array]",vr="[object Boolean]",yr="[object Date]",hr="[object Error]",mr="[object Function]",br="[object Map]",wr="[object Number]",Sr="[object Object]",Tr="[object RegExp]",$r="[object Set]",Ar="[object String]",xr="[object WeakMap]",Or="[object ArrayBuffer]",Er="[object DataView]",Mr="[object Float32Array]",Cr="[object Float64Array]",Pr="[object Int8Array]",Dr="[object Int16Array]",Ir="[object Int32Array]",jr="[object Uint8Array]",Lr="[object Uint8ClampedArray]",Fr="[object Uint16Array]",Vr="[object Uint32Array]",b={};b[Mr]=b[Cr]=b[Pr]=b[Dr]=b[Ir]=b[jr]=b[Lr]=b[Fr]=b[Vr]=!0;b[gr]=b[_r]=b[Or]=b[vr]=b[Er]=b[yr]=b[hr]=b[mr]=b[br]=b[wr]=b[Sr]=b[Tr]=b[$r]=b[Ar]=b[xr]=!1;function Br(e){return K(e)&&Ae(e.length)&&!!b[J(e)]}function bt(e){return function(t){return e(t)}}var wt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Z=wt&&typeof module=="object"&&module&&!module.nodeType&&module,Rr=Z&&Z.exports===wt,ve=Rr&&ct.process,Nr=function(){try{var e=Z&&Z.require&&Z.require("util").types;return e||ve&&ve.binding&&ve.binding("util")}catch{}}();const Ge=Nr;var ze=Ge&&Ge.isTypedArray,Hr=ze?bt(ze):Br;const St=Hr;var Ur=Object.prototype,Gr=Ur.hasOwnProperty;function zr(e,t){var n=O(e),r=!n&&ht(e),o=!n&&!r&&me(e),a=!n&&!r&&!o&&St(e),s=n||r||o||a,i=s?or(e.length,String):[],c=i.length;for(var l in e)(t||Gr.call(e,l))&&!(s&&(l=="length"||o&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||_t(l,c)))&&i.push(l);return i}function Kr(e,t){return function(n){return e(t(n))}}var Jr=Kr(Object.keys,Object);const Wr=Jr;var qr=Object.prototype,Xr=qr.hasOwnProperty;function Yr(e){if(!ar(e))return Wr(e);var t=[];for(var n in Object(e))Xr.call(e,n)&&n!="constructor"&&t.push(n);return t}function Oe(e){return xe(e)?zr(e):Yr(e)}var Zr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kr=/^\w*$/;function Ee(e,t){if(O(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Q(e)?!0:kr.test(e)||!Zr.test(e)||t!=null&&e in Object(t)}var Qr=W(Object,"create");const ee=Qr;function ea(){this.__data__=ee?ee(null):{},this.size=0}function ta(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var na="__lodash_hash_undefined__",ra=Object.prototype,aa=ra.hasOwnProperty;function oa(e){var t=this.__data__;if(ee){var n=t[e];return n===na?void 0:n}return aa.call(t,e)?t[e]:void 0}var sa=Object.prototype,ia=sa.hasOwnProperty;function la(e){var t=this.__data__;return ee?t[e]!==void 0:ia.call(t,e)}var ua="__lodash_hash_undefined__";function ca(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ee&&t===void 0?ua:t,this}function R(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}R.prototype.clear=ea;R.prototype.delete=ta;R.prototype.get=oa;R.prototype.has=la;R.prototype.set=ca;function da(){this.__data__=[],this.size=0}function le(e,t){for(var n=e.length;n--;)if(vt(e[n][0],t))return n;return-1}var fa=Array.prototype,pa=fa.splice;function ga(e){var t=this.__data__,n=le(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():pa.call(t,n,1),--this.size,!0}function _a(e){var t=this.__data__,n=le(t,e);return n<0?void 0:t[n][1]}function va(e){return le(this.__data__,e)>-1}function ya(e,t){var n=this.__data__,r=le(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function L(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}L.prototype.clear=da;L.prototype.delete=ga;L.prototype.get=_a;L.prototype.has=va;L.prototype.set=ya;var ha=W(j,"Map");const te=ha;function ma(){this.size=0,this.__data__={hash:new R,map:new(te||L),string:new R}}function ba(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ue(e,t){var n=e.__data__;return ba(t)?n[typeof t=="string"?"string":"hash"]:n.map}function wa(e){var t=ue(this,e).delete(e);return this.size-=t?1:0,t}function Sa(e){return ue(this,e).get(e)}function Ta(e){return ue(this,e).has(e)}function $a(e,t){var n=ue(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function F(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}F.prototype.clear=ma;F.prototype.delete=wa;F.prototype.get=Sa;F.prototype.has=Ta;F.prototype.set=$a;var Aa="Expected a function";function Me(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Aa);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=e.apply(this,r);return n.cache=a.set(o,s)||a,s};return n.cache=new(Me.Cache||F),n}Me.Cache=F;var xa=500;function Oa(e){var t=Me(e,function(r){return n.size===xa&&n.clear(),r}),n=t.cache;return t}var Ea=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ma=/\\(\\)?/g,Ca=Oa(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ea,function(n,r,o,a){t.push(o?a.replace(Ma,"$1"):r||n)}),t});const Pa=Ca;function Da(e){return e==null?"":ft(e)}function Tt(e,t){return O(e)?e:Ee(e,t)?[e]:Pa(Da(e))}var Ia=1/0;function ce(e){if(typeof e=="string"||Q(e))return e;var t=e+"";return t=="0"&&1/e==-Ia?"-0":t}function Ce(e,t){t=Tt(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ce(t[n++])];return n&&n==r?e:void 0}function ja(e,t,n){var r=e==null?void 0:Ce(e,t);return r===void 0?n:r}function La(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Fa(){this.__data__=new L,this.size=0}function Va(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Ba(e){return this.__data__.get(e)}function Ra(e){return this.__data__.has(e)}var Na=200;function Ha(e,t){var n=this.__data__;if(n instanceof L){var r=n.__data__;if(!te||r.length<Na-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new F(r)}return n.set(e,t),this.size=n.size,this}function I(e){var t=this.__data__=new L(e);this.size=t.size}I.prototype.clear=Fa;I.prototype.delete=Va;I.prototype.get=Ba;I.prototype.has=Ra;I.prototype.set=Ha;function Ua(e,t){for(var n=-1,r=e==null?0:e.length,o=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[o++]=s)}return a}function Ga(){return[]}var za=Object.prototype,Ka=za.propertyIsEnumerable,Ke=Object.getOwnPropertySymbols,Ja=Ke?function(e){return e==null?[]:(e=Object(e),Ua(Ke(e),function(t){return Ka.call(e,t)}))}:Ga;const Wa=Ja;function qa(e,t,n){var r=t(e);return O(e)?r:La(r,n(e))}function Je(e){return qa(e,Oe,Wa)}var Xa=W(j,"DataView");const be=Xa;var Ya=W(j,"Promise");const we=Ya;var Za=W(j,"Set");const Se=Za;var We="[object Map]",ka="[object Object]",qe="[object Promise]",Xe="[object Set]",Ye="[object WeakMap]",Ze="[object DataView]",Qa=N(be),eo=N(te),to=N(we),no=N(Se),ro=N(he),B=J;(be&&B(new be(new ArrayBuffer(1)))!=Ze||te&&B(new te)!=We||we&&B(we.resolve())!=qe||Se&&B(new Se)!=Xe||he&&B(new he)!=Ye)&&(B=function(e){var t=J(e),n=t==ka?e.constructor:void 0,r=n?N(n):"";if(r)switch(r){case Qa:return Ze;case eo:return We;case to:return qe;case no:return Xe;case ro:return Ye}return t});const ke=B;var ao=j.Uint8Array;const Qe=ao;var oo="__lodash_hash_undefined__";function so(e){return this.__data__.set(e,oo),this}function io(e){return this.__data__.has(e)}function ie(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new F;++t<n;)this.add(e[t])}ie.prototype.add=ie.prototype.push=so;ie.prototype.has=io;function lo(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function uo(e,t){return e.has(t)}var co=1,fo=2;function $t(e,t,n,r,o,a){var s=n&co,i=e.length,c=t.length;if(i!=c&&!(s&&c>i))return!1;var l=a.get(e),g=a.get(t);if(l&&g)return l==t&&g==e;var u=-1,_=!0,h=n&fo?new ie:void 0;for(a.set(e,t),a.set(t,e);++u<i;){var p=e[u],f=t[u];if(r)var v=s?r(f,p,u,t,e,a):r(p,f,u,e,t,a);if(v!==void 0){if(v)continue;_=!1;break}if(h){if(!lo(t,function(w,A){if(!uo(h,A)&&(p===w||o(p,w,n,r,a)))return h.push(A)})){_=!1;break}}else if(!(p===f||o(p,f,n,r,a))){_=!1;break}}return a.delete(e),a.delete(t),_}function po(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function go(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var _o=1,vo=2,yo="[object Boolean]",ho="[object Date]",mo="[object Error]",bo="[object Map]",wo="[object Number]",So="[object RegExp]",To="[object Set]",$o="[object String]",Ao="[object Symbol]",xo="[object ArrayBuffer]",Oo="[object DataView]",et=V?V.prototype:void 0,ye=et?et.valueOf:void 0;function Eo(e,t,n,r,o,a,s){switch(n){case Oo:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case xo:return!(e.byteLength!=t.byteLength||!a(new Qe(e),new Qe(t)));case yo:case ho:case wo:return vt(+e,+t);case mo:return e.name==t.name&&e.message==t.message;case So:case $o:return e==t+"";case bo:var i=po;case To:var c=r&_o;if(i||(i=go),e.size!=t.size&&!c)return!1;var l=s.get(e);if(l)return l==t;r|=vo,s.set(e,t);var g=$t(i(e),i(t),r,o,a,s);return s.delete(e),g;case Ao:if(ye)return ye.call(e)==ye.call(t)}return!1}var Mo=1,Co=Object.prototype,Po=Co.hasOwnProperty;function Do(e,t,n,r,o,a){var s=n&Mo,i=Je(e),c=i.length,l=Je(t),g=l.length;if(c!=g&&!s)return!1;for(var u=c;u--;){var _=i[u];if(!(s?_ in t:Po.call(t,_)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var f=!0;a.set(e,t),a.set(t,e);for(var v=s;++u<c;){_=i[u];var w=e[_],A=t[_];if(r)var C=s?r(A,w,_,t,e,a):r(w,A,_,e,t,a);if(!(C===void 0?w===A||o(w,A,n,r,a):C)){f=!1;break}v||(v=_=="constructor")}if(f&&!v){var P=e.constructor,E=t.constructor;P!=E&&"constructor"in e&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof E=="function"&&E instanceof E)&&(f=!1)}return a.delete(e),a.delete(t),f}var Io=1,tt="[object Arguments]",nt="[object Array]",ae="[object Object]",jo=Object.prototype,rt=jo.hasOwnProperty;function Lo(e,t,n,r,o,a){var s=O(e),i=O(t),c=s?nt:ke(e),l=i?nt:ke(t);c=c==tt?ae:c,l=l==tt?ae:l;var g=c==ae,u=l==ae,_=c==l;if(_&&me(e)){if(!me(t))return!1;s=!0,g=!1}if(_&&!g)return a||(a=new I),s||St(e)?$t(e,t,n,r,o,a):Eo(e,t,c,n,r,o,a);if(!(n&Io)){var h=g&&rt.call(e,"__wrapped__"),p=u&&rt.call(t,"__wrapped__");if(h||p){var f=h?e.value():e,v=p?t.value():t;return a||(a=new I),o(f,v,n,r,a)}}return _?(a||(a=new I),Do(e,t,n,r,o,a)):!1}function Pe(e,t,n,r,o){return e===t?!0:e==null||t==null||!K(e)&&!K(t)?e!==e&&t!==t:Lo(e,t,n,r,Pe,o)}var Fo=1,Vo=2;function Bo(e,t,n,r){var o=n.length,a=o,s=!r;if(e==null)return!a;for(e=Object(e);o--;){var i=n[o];if(s&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++o<a;){i=n[o];var c=i[0],l=e[c],g=i[1];if(s&&i[2]){if(l===void 0&&!(c in e))return!1}else{var u=new I;if(r)var _=r(l,g,c,e,t,u);if(!(_===void 0?Pe(g,l,Fo|Vo,r,u):_))return!1}}return!0}function At(e){return e===e&&!$e(e)}function Ro(e){for(var t=Oe(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,At(o)]}return t}function xt(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function No(e){var t=Ro(e);return t.length==1&&t[0][2]?xt(t[0][0],t[0][1]):function(n){return n===e||Bo(n,e,t)}}function Ho(e,t){return e!=null&&t in Object(e)}function Uo(e,t,n){t=Tt(t,e);for(var r=-1,o=t.length,a=!1;++r<o;){var s=ce(t[r]);if(!(a=e!=null&&n(e,s)))break;e=e[s]}return a||++r!=o?a:(o=e==null?0:e.length,!!o&&Ae(o)&&_t(s,o)&&(O(e)||ht(e)))}function Go(e,t){return e!=null&&Uo(e,t,Ho)}var zo=1,Ko=2;function Jo(e,t){return Ee(e)&&At(t)?xt(ce(e),t):function(n){var r=ja(n,e);return r===void 0&&r===t?Go(n,e):Pe(t,r,zo|Ko)}}function Wo(e){return function(t){return t==null?void 0:t[e]}}function qo(e){return function(t){return Ce(t,e)}}function Xo(e){return Ee(e)?Wo(ce(e)):qo(e)}function Yo(e){return typeof e=="function"?e:e==null?pt:typeof e=="object"?O(e)?Jo(e[0],e[1]):No(e):Xo(e)}function Zo(e){return function(t,n,r){for(var o=-1,a=Object(t),s=r(t),i=s.length;i--;){var c=s[e?i:++o];if(n(a[c],c,a)===!1)break}return t}}var ko=Zo();const Qo=ko;function es(e,t){return e&&Qo(e,t,Oe)}function ts(e,t){return function(n,r){if(n==null)return n;if(!xe(n))return e(n,r);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&r(s[a],a,s)!==!1;);return n}}var ns=ts(es);const rs=ns;function as(e,t){var n=-1,r=xe(e)?Array(e.length):[];return rs(e,function(o,a,s){r[++n]=t(o,a,s)}),r}function os(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function ss(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,a=Q(e),s=t!==void 0,i=t===null,c=t===t,l=Q(t);if(!i&&!l&&!a&&e>t||a&&s&&c&&!i&&!l||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!l&&e<t||l&&n&&o&&!r&&!a||i&&n&&o||!s&&o||!c)return-1}return 0}function is(e,t,n){for(var r=-1,o=e.criteria,a=t.criteria,s=o.length,i=n.length;++r<s;){var c=ss(o[r],a[r]);if(c){if(r>=i)return c;var l=n[r];return c*(l=="desc"?-1:1)}}return e.index-t.index}function ls(e,t,n){t.length?t=oe(t,function(a){return O(a)?function(s){return Ce(s,a.length===1?a[0]:a)}:a}):t=[pt];var r=-1;t=oe(t,bt(Yo));var o=as(e,function(a,s,i){var c=oe(t,function(l){return l(a)});return{criteria:c,index:++r,value:a}});return os(o,function(a,s){return is(a,s,n)})}function at(e,t,n,r){return e==null?[]:(O(t)||(t=t==null?[]:[t]),n=r?void 0:n,O(n)||(n=n==null?[]:[n]),ls(e,t,n))}const us={class:"grid"},cs={class:"col-12"},ds={class:"card"},fs={class:"grid grid-nogutter"},ps={class:"col-6 text-left"},gs={class:"grid grid-nogutter"},_s={class:"p-4 border-1 surface-border surface-card border-round flex flex-column"},vs={class:"surface-50 flex justify-content-center border-round p-3"},ys={class:"relative mx-auto"},hs={class:"pt-4"},ms={class:"flex flex-row justify-content-between align-items-start gap-2"},bs={class:"text-lg font-medium text-teal-400 mt-1"},ws={class:"flex flex-column gap-4 mt-4"},Ss={class:"text-xl font-semibold text-cyan-500"},Ts={__name:"List",props:{energyData:{type:Object,default:()=>({})}},setup(e){const n=y(Object.entries(e.energyData).map(([g,u])=>({fregment_id:g,mass:u[0],SMILES:u[1]}))),r=Bt(()=>at(n.value,[i.value],[s.value===1?"asc":"desc"]));y("");const o=y("grid"),a=y(null),s=y(1),i=y("mass"),c=y([{label:"Mass High to Low",value:"!mass"},{label:"Mass Low to High",value:"mass"}]),l=g=>{const u=g.value.value,_=g.value;u.indexOf("!")===0?(s.value=-1,i.value=u.substring(1,u.length).toLowerCase(),a.value=_):(s.value=1,i.value=u.toLowerCase(),a.value=_)};return G([s,i],()=>{r.value=at(n.value,[i.value],[s.value===1?"asc":"desc"])}),(g,u)=>{const _=M("Dropdown"),h=M("DataView");return S(),$("div",us,[d("div",cs,[d("div",ds,[u[2]||(u[2]=d("h5",null,"DataView",-1)),T(h,{value:r.value,layout:o.value,paginator:!0,rows:9,sortOrder:s.value,sortField:i.value},{header:D(()=>[d("div",fs,[d("div",ps,[T(_,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=p=>a.value=p),options:c.value,optionLabel:"label",placeholder:"Sort By Mass",onChange:u[1]||(u[1]=p=>l(p))},null,8,["modelValue","options"])])])]),grid:D(p=>[d("div",gs,[(S(!0),$(z,null,Te(p.items,(f,v)=>(S(),$("div",{key:v,class:"col-12 sm:col-6 md:col-4 p-2"},[d("div",_s,[d("div",vs,[d("div",ys,[T(ut,{molecules:f.SMILES},null,8,["molecules"])])]),d("div",hs,[d("div",ms,[d("div",null,[d("div",bs,k(f.mass),1)])]),d("div",ws,[d("span",Ss,k(f.SMILES),1)])])])]))),128))])]),_:1},8,["value","layout","sortOrder","sortField"])])])])}}},As={__name:"CFMID",setup(e){const t=lt(),n=y(""),r=y({name:"[M+H]+",code:"[M+H]+"}),o=y(!1),a=y(null);y("");const s=()=>{t.add({severity:"error",summary:"Error Message",detail:"Something wrong",life:5e3})};G(o,l=>{l&&c()});const i=y(null),c=()=>{o.value=!0,Rt.post("/predict",{smiles_or_inchi_or_file:n.value,AdductType:r.value.code}).then(l=>{i.value=l.status,l.status==200?a.value=l.data.result:s(),o.value=!1}).catch(l=>{s(),o.value=!1})};return(l,g)=>(S(),$(z,null,[g[4]||(g[4]=d("h1",null,"IntelliSpectra",-1)),T(gn,{smiles_or_inchi_or_file:n.value,"onUpdate:smiles_or_inchi_or_file":g[0]||(g[0]=u=>n.value=u),isSubmit:o.value,"onUpdate:isSubmit":g[1]||(g[1]=u=>o.value=u),AdductType_dropdownItem:r.value,"onUpdate:AdductType_dropdownItem":g[2]||(g[2]=u=>r.value=u),onConfirm:g[3]||(g[3]=u=>n.value=u)},null,8,["smiles_or_inchi_or_file","isSubmit","AdductType_dropdownItem"]),o.value?(S(),U(bn,{key:0})):H("",!0),!o.value&&a.value&&a.value.energy0?(S(),U(ge,{key:1,energyData:a.value.energy0,Energy_level:"Low Energy"},null,8,["energyData"])):H("",!0),!o.value&&a.value&&a.value.energy1?(S(),U(ge,{key:2,energyData:a.value.energy1,Energy_level:"Middle Energy"},null,8,["energyData"])):H("",!0),!o.value&&a.value&&a.value.energy2?(S(),U(ge,{key:3,energyData:a.value.energy2,Energy_level:"High Energy"},null,8,["energyData"])):H("",!0),!o.value&&a.value&&a.value.fragment?(S(),U(Ts,{key:4,energyData:a.value.fragment},null,8,["energyData"])):H("",!0)],64))}};export{As as default};
