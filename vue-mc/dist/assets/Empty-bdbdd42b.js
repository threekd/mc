import{E as et,r as y,a as $t,o as we,G as Tt,w as Q,c as b,d as S,H as de,k as G,n as Ce,D as tt,e as c,F as X,I as At,j as nt,f as w,u as xt,b as E,t as oe,J as Ot,K as Et,B as rt,_ as Pt,L as Ct,M as ne,g as V,s as Mt,v as It,C as Dt,q as J,N as jt}from"./index-d51a38b3.js";const Lt=(()=>{let e;return()=>(e||(e=new Promise((t,n)=>{window.initRDKitModule().then(r=>{window.RDKit=r,t(r)}).catch(r=>{n()})})),e)})(),Ft={key:0},Vt={key:1},Bt=["title"],Rt=["innerHTML"],Nt=["title","id","width","height"],Gt=et({__name:"MoleculeStructure",props:{id:{type:String,required:!0},className:{type:String,default:""},svgMode:{type:Boolean,default:!1},width:{type:Number,default:250},height:{type:Number,default:200},structure:{type:String,required:!0},subStructure:{type:String,default:""},extraDetails:{type:Object,default:{}},drawingDelay:{type:Number,default:void 0}},setup(e){const t=e;let n=y(!1),r=y(!1);y(!1);let o=$t({width:t.width,height:t.height,bondLineWidth:1,addStereoAnnotation:!0,...t.extraDetails}),a=y("");function s(l){return!!l}function i(l){const f=window.RDKit.get_mol(l||"invalid"),g=s(f);return f==null||f.delete(),g}function u(l,f){if(s(l)&&s(f)){const g=JSON.parse((l==null?void 0:l.get_substruct_matches(f))||""),p=g&&g.reduce((_,{atoms:m,bonds:T})=>({atoms:[..._.atoms,...m],bonds:[..._.bonds,...T]}),{atoms:[],bonds:[]});return JSON.stringify({...o,...t.extraDetails||{},...p})}else return JSON.stringify({...o,...t.extraDetails||{}})}async function d(){const l=window.RDKit.get_mol(t.structure||"invalid"),f=window.RDKit.get_qmol(t.subStructure||"invalid"),g=s(l);if(t.svgMode&&g){const p=l.get_svg_with_highlights(u(l,f));a.value=p}else if(g){await At();const p=document.getElementById(t.id);l.draw_to_canvas_with_highlights(p,u(l,f))}l==null||l.delete(),f==null||f.delete()}function h(){t.drawingDelay?setTimeout(()=>d(),t.drawingDelay):d()}return we(()=>{Lt().then(()=>{n.value=!0;try{h()}catch(l){console.error(l)}}).catch(l=>{console.error(l),r.value=!0})}),Tt(()=>{!r&&n&&t.svgMode}),Q(t,()=>h()),(l,f)=>(b(),S(X,null,[de(r)?(b(),S("p",Ft,"Error loading renderer")):G("",!0),de(n)?i(e.structure)?e.svgMode?(b(),S("div",{key:3,class:Ce(`molecule-structure-svg ${e.className}`),style:tt({width:t.width,height:t.height}),innerHTML:de(a)},null,14,Rt)):(b(),S("div",{key:4,class:Ce(`molecule-canvas-container ${e.className}`)},[c("canvas",{title:e.structure,id:e.id,width:e.width,height:e.height},null,8,Nt)],2)):(b(),S("span",{key:2,title:`Cannot render structure: ${e.structure}`},null,8,Bt)):(b(),S("p",Vt,"Loading renderer"))],64))}});const Ut=c("div",{id:"component-example-svg",class:"container"},[c("section",{class:"hero"},[c("div",{class:"hero-body"})])],-1),Ht={class:"columns is-desktop"},at=et({__name:"RDKit-SVG",props:{molecules:{type:String,default:""}},setup(e){const t=e,n=y([t.molecules]);return Q(()=>t.molecules,r=>{n.value=[r]},{immediate:!0}),(r,o)=>(b(),S(X,null,[Ut,c("div",Ht,[(b(!0),S(X,null,nt(n.value,(a,s)=>(b(),S("div",{class:"column",key:s},[w(Gt,{id:`structure-example-svg-${s}`,structure:a,"svg-mode":""},null,8,["id","structure"])]))),128))])],64))}}),zt={class:"grid p-fluid"},Kt={class:"col-12 xl:col-12"},Jt={class:"card"},fe={__name:"Bar",props:{energyData:{type:Object,default:()=>({})},Energy_level:{type:String,default:"Energy"}},setup(e){const t=e,n=g=>{let p=g.canvas.parentNode.querySelector("div");return p||(p=document.createElement("div"),p.style.opacity=0,p.style.position="absolute",p.style.pointerEvents="none",p.style.transition="all .1s ease",g.canvas.parentNode.appendChild(p)),p},r=g=>{const{chart:p,tooltip:_}=g,m=n(p);if(_.opacity===0){m.style.opacity=0;return}let T="";if(_.dataPoints&&_.dataPoints.length){const St=_.dataPoints[0].label;T=t.energyData[St][1][1]}const A=Ot({render(){return Et(at,{molecules:T})}}),$=document.createElement("div");A.mount($),m.innerHTML="",m.appendChild($);const{offsetLeft:P,offsetTop:j}=p.canvas;m.style.opacity=1;const ee=p.canvas.offsetWidth/2,K=_.caretX,te=K<ee?0:-250,O=K<ee?-200:-180;m.style.left=P+K+te+"px",m.style.top=j+_.caretY+O+"px",m.style.pointerEvents="none"},{layoutConfig:o}=xt();let a=getComputedStyle(document.documentElement),s=a.getPropertyValue("--text-color"),i=a.getPropertyValue("--text-color-secondary"),u=a.getPropertyValue("--surface-border");const d=y(null),h=y(null),l=()=>{a=getComputedStyle(document.documentElement),s=a.getPropertyValue("--text-color"),i=a.getPropertyValue("--text-color-secondary"),u=a.getPropertyValue("--surface-border")},f=()=>{const g=Object.keys(t.energyData),p=Object.keys(t.energyData).map(_=>parseFloat(t.energyData[_][0]));d.value={labels:g,datasets:[{label:"Intensity",backgroundColor:a.getPropertyValue("--primary-500"),borderColor:a.getPropertyValue("--primary-500"),data:p,barThickness:7}]},h.value={plugins:{tooltip:{enabled:!1,external:r,position:"nearest"},legend:{labels:{fontColor:s}}},scales:{x:{beginAtZero:!0,type:"linear",position:"bottom",ticks:{stepSize:10,color:i,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{ticks:{color:i},grid:{color:u,drawBorder:!1}}}}};return Q(o.theme,()=>{l(),f()},{immediate:!0}),(g,p)=>{const _=E("Chart");return b(),S("div",zt,[c("div",Kt,[c("div",Jt,[c("h5",null,oe(t.Energy_level),1),w(_,{type:"bar",data:d.value,options:h.value},null,8,["data","options"])])])])}}},qt={__name:"JSME",props:{width:{type:String,default:""},height:{type:String,default:"500px"},onChange:{type:Function,default:()=>{}},src:{type:String,default:"/public/jsme/jsme.nocache.js"},modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,o=`JME-${Math.random().toString(36).substr(2,9)}`,a=y(!1),s=y(n.modelValue);let i;const u=()=>{const l=document.createElement("script");l.type="text/javascript",l.src=n.src,l.onload=d,document.head.appendChild(l)},d=()=>{i=new window.JSApplet.JSME(o,n.width,n.height,{options:"fullScreenIcon,query,hydrogens",guicolor:"#FFE082",guiAtomColor:"#000000"}),n.modelValue&&i.readGenericMolecularInput(n.modelValue),i.setCallBack("AfterStructureModified",l=>{const f=l.src.smiles();s.value=f,r("update:modelValue",f),n.onChange(f)}),a.value=!0},h=()=>{i&&i.destroy&&i.destroy()};return we(()=>{var l;(l=window.JSApplet)!=null&&l.JSME?d():u()}),rt(()=>{h()}),(l,f)=>(b(),S("div",null,[c("div",{style:tt({width:e.width,height:e.height,outline:a.value?"":"1px solid black",outlineOffset:"-.5px",textAlign:"center"})},[c("div",{id:o})],4)]))}};const R=e=>(Mt("data-v-8e2ac666"),e=e(),It(),e),Wt={class:"grid"},Xt={class:"col-12"},Yt={class:"card"},Zt={class:"responsive-container"},kt={class:"flex flex-column gap-2 mt-2"},Qt={class:"text-xl font-semibold text-cyan-500"},en=R(()=>c("h4",null,"Spectra Prediction",-1)),tn={class:"p-fluid formgrid grid"},nn={class:"field col-12 md:col-12"},rn=R(()=>c("label",{for:"Parent_Compound_Structure"},"Parent Compound Structure",-1)),an=R(()=>c("i",{class:"pi pi-pencil text-orange-500 text-xl"},null,-1)),on=[an],sn=R(()=>c("i",{class:"pi pi-eraser"},null,-1)),ln=[sn],un={class:"card p-fluid"},cn={class:"formgrid grid"},dn={class:"field col-12 md:col-2"},fn=R(()=>c("label",{for:"SpectraType"},"Spectra Type",-1)),pn={class:"field col-12 md:col-2"},_n=R(()=>c("label",{for:"AdductType"},"Adduct Type",-1)),gn={class:"card"},hn={class:"p-fluid formgrid grid"},yn=R(()=>c("div",{class:"field col-12 md:col-12"},null,-1)),vn={class:"field col-12 md:col-2"},mn={__name:"Form",props:{smiles_or_inchi_or_file:{type:String,default:""},smiles_or_inchi_or_fileModifiers:{},isSubmit:{default:!1},isSubmitModifiers:{},AdductType_dropdownItem:{type:Object,default:{name:"[M+H]+",code:"[M+H]+"}},AdductType_dropdownItemModifiers:{},SpectraType_dropdownItem:{type:Object,default:{name:"ESI",code:"ESI"}},SpectraType_dropdownItemModifiers:{}},emits:Ct(["update","confirm"],["update:smiles_or_inchi_or_file","update:isSubmit","update:AdductType_dropdownItem","update:SpectraType_dropdownItem"]),setup(e,{emit:t}){const n=ne(e,"smiles_or_inchi_or_file"),r=ne(e,"isSubmit"),o=ne(e,"AdductType_dropdownItem"),a=ne(e,"SpectraType_dropdownItem"),s=y([{name:"ESI",code:"ESI"}]),i=y([{name:"[M+H]+",code:"[M+H]+"},{name:"[M-H]-",code:"[M-H]-"}]),u=()=>{n.value=""},d=()=>{},h=()=>{r.value=!0},l=y(!1),f=()=>{l.value=!0},g=()=>{l.value=!1},p=y(""),_=A=>{p.value=A},m=t,T=()=>{m("confirm",p.value),g()};return(A,$)=>{const P=E("Button"),j=E("Dialog"),ce=E("InputGroupAddon"),ee=E("InputText"),K=E("InputGroup"),te=E("Dropdown");return b(),S("div",Wt,[c("div",Xt,[c("div",Yt,[w(j,{header:"JSME Molecule Editor",visible:l.value,"onUpdate:visible":$[0]||($[0]=O=>l.value=O),breakpoints:{"960px":"75vw"},modal:!0},{footer:V(()=>[c("div",kt,[c("span",Qt,oe(p.value),1)]),w(P,{label:"Ok",onClick:T,icon:"pi pi-check",class:"p-button-outlined"})]),default:V(()=>[c("div",Zt,[w(qt,{width:"100%",modelValue:p.value,"onUpdate:modelValue":_},null,8,["modelValue"])])]),_:1},8,["visible"]),en,c("div",tn,[c("div",nn,[rn,w(K,null,{default:V(()=>[w(ce,{onClick:d},{default:V(()=>[c("div",{onClick:f,class:"p-link flex align-items-center justify-content-center bg-orange-100 border-round",style:{width:"2.0rem",height:"2.0rem"}},on)]),_:1}),w(ee,{modelValue:n.value,"onUpdate:modelValue":$[1]||($[1]=O=>n.value=O),id:"Parent_Compound_Structure",type:"text",placeholder:"Enter an InChI or SMILES string"},null,8,["modelValue"]),w(ce,{onClick:u},{default:V(()=>[c("button",{onClick:u,class:"p-link layout-topbar-button"},ln)]),_:1})]),_:1})])]),c("div",un,[c("div",cn,[c("div",dn,[fn,w(te,{id:"SpectraType",modelValue:a.value,"onUpdate:modelValue":$[2]||($[2]=O=>a.value=O),options:s.value,optionLabel:"name",placeholder:"ESI"},null,8,["modelValue","options"])]),c("div",pn,[_n,w(te,{id:"AdductType",modelValue:o.value,"onUpdate:modelValue":$[3]||($[3]=O=>o.value=O),options:i.value,optionLabel:"name",placeholder:"[M+H]+"},null,8,["modelValue","options"])])])]),c("div",gn,[c("div",hn,[yn,c("div",vn,[w(P,{onClick:h,label:"Submit",modelValue:r.value,"onUpdate:modelValue":$[4]||($[4]=O=>r.value=O),class:"mr-2 mb-2"},null,8,["modelValue"])])])])])])])}}},bn=Pt(mn,[["__scopeId","data-v-8e2ac666"]]),wn={class:"grid"},Sn={class:"col-12"},$n={class:"card"},Tn=c("h5",null,"Calculating",-1),An={class:"grid"},xn={class:"col"},On={__name:"ProgressBar",setup(e){const t=y(0);let n=null;const r=()=>{n=setInterval(()=>{let a=t.value+Math.floor(Math.random()*10)+1;a>=90&&(a=90),t.value=a},2e3)},o=()=>{clearInterval(n),n=null};return we(()=>{r()}),rt(()=>{o()}),(a,s)=>{const i=E("ProgressBar",!0);return b(),S("div",wn,[c("div",Sn,[c("div",$n,[Tn,c("div",An,[c("div",xn,[w(i,{value:t.value},null,8,["value"])])])])])])}}};var En=typeof global=="object"&&global&&global.Object===Object&&global;const ot=En;var Pn=typeof self=="object"&&self&&self.Object===Object&&self,Cn=ot||Pn||Function("return this")();const M=Cn;var Mn=M.Symbol;const L=Mn;var st=Object.prototype,In=st.hasOwnProperty,Dn=st.toString,q=L?L.toStringTag:void 0;function jn(e){var t=In.call(e,q),n=e[q];try{e[q]=void 0;var r=!0}catch{}var o=Dn.call(e);return r&&(t?e[q]=n:delete e[q]),o}var Ln=Object.prototype,Fn=Ln.toString;function Vn(e){return Fn.call(e)}var Bn="[object Null]",Rn="[object Undefined]",Me=L?L.toStringTag:void 0;function H(e){return e==null?e===void 0?Rn:Bn:Me&&Me in Object(e)?jn(e):Vn(e)}function U(e){return e!=null&&typeof e=="object"}var Nn="[object Symbol]";function Y(e){return typeof e=="symbol"||U(e)&&H(e)==Nn}function ae(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Gn=Array.isArray;const x=Gn;var Un=1/0,Ie=L?L.prototype:void 0,De=Ie?Ie.toString:void 0;function it(e){if(typeof e=="string")return e;if(x(e))return ae(e,it)+"";if(Y(e))return De?De.call(e):"";var t=e+"";return t=="0"&&1/e==-Un?"-0":t}function Se(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function lt(e){return e}var Hn="[object AsyncFunction]",zn="[object Function]",Kn="[object GeneratorFunction]",Jn="[object Proxy]";function ut(e){if(!Se(e))return!1;var t=H(e);return t==zn||t==Kn||t==Hn||t==Jn}var qn=M["__core-js_shared__"];const pe=qn;var je=function(){var e=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Wn(e){return!!je&&je in e}var Xn=Function.prototype,Yn=Xn.toString;function N(e){if(e!=null){try{return Yn.call(e)}catch{}try{return e+""}catch{}}return""}var Zn=/[\\^$.*+?()[\]{}|]/g,kn=/^\[object .+?Constructor\]$/,Qn=Function.prototype,er=Object.prototype,tr=Qn.toString,nr=er.hasOwnProperty,rr=RegExp("^"+tr.call(nr).replace(Zn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ar(e){if(!Se(e)||Wn(e))return!1;var t=ut(e)?rr:kn;return t.test(N(e))}function or(e,t){return e==null?void 0:e[t]}function z(e,t){var n=or(e,t);return ar(n)?n:void 0}var sr=z(M,"WeakMap");const he=sr;var ir=9007199254740991,lr=/^(?:0|[1-9]\d*)$/;function ct(e,t){var n=typeof e;return t=t??ir,!!t&&(n=="number"||n!="symbol"&&lr.test(e))&&e>-1&&e%1==0&&e<t}function dt(e,t){return e===t||e!==e&&t!==t}var ur=9007199254740991;function $e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ur}function Te(e){return e!=null&&$e(e.length)&&!ut(e)}var cr=Object.prototype;function dr(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||cr;return e===n}function fr(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var pr="[object Arguments]";function Le(e){return U(e)&&H(e)==pr}var ft=Object.prototype,_r=ft.hasOwnProperty,gr=ft.propertyIsEnumerable,hr=Le(function(){return arguments}())?Le:function(e){return U(e)&&_r.call(e,"callee")&&!gr.call(e,"callee")};const pt=hr;function yr(){return!1}var _t=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Fe=_t&&typeof module=="object"&&module&&!module.nodeType&&module,vr=Fe&&Fe.exports===_t,Ve=vr?M.Buffer:void 0,mr=Ve?Ve.isBuffer:void 0,br=mr||yr;const ye=br;var wr="[object Arguments]",Sr="[object Array]",$r="[object Boolean]",Tr="[object Date]",Ar="[object Error]",xr="[object Function]",Or="[object Map]",Er="[object Number]",Pr="[object Object]",Cr="[object RegExp]",Mr="[object Set]",Ir="[object String]",Dr="[object WeakMap]",jr="[object ArrayBuffer]",Lr="[object DataView]",Fr="[object Float32Array]",Vr="[object Float64Array]",Br="[object Int8Array]",Rr="[object Int16Array]",Nr="[object Int32Array]",Gr="[object Uint8Array]",Ur="[object Uint8ClampedArray]",Hr="[object Uint16Array]",zr="[object Uint32Array]",v={};v[Fr]=v[Vr]=v[Br]=v[Rr]=v[Nr]=v[Gr]=v[Ur]=v[Hr]=v[zr]=!0;v[wr]=v[Sr]=v[jr]=v[$r]=v[Lr]=v[Tr]=v[Ar]=v[xr]=v[Or]=v[Er]=v[Pr]=v[Cr]=v[Mr]=v[Ir]=v[Dr]=!1;function Kr(e){return U(e)&&$e(e.length)&&!!v[H(e)]}function gt(e){return function(t){return e(t)}}var ht=typeof exports=="object"&&exports&&!exports.nodeType&&exports,W=ht&&typeof module=="object"&&module&&!module.nodeType&&module,Jr=W&&W.exports===ht,_e=Jr&&ot.process,qr=function(){try{var e=W&&W.require&&W.require("util").types;return e||_e&&_e.binding&&_e.binding("util")}catch{}}();const Be=qr;var Re=Be&&Be.isTypedArray,Wr=Re?gt(Re):Kr;const yt=Wr;var Xr=Object.prototype,Yr=Xr.hasOwnProperty;function Zr(e,t){var n=x(e),r=!n&&pt(e),o=!n&&!r&&ye(e),a=!n&&!r&&!o&&yt(e),s=n||r||o||a,i=s?fr(e.length,String):[],u=i.length;for(var d in e)(t||Yr.call(e,d))&&!(s&&(d=="length"||o&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||ct(d,u)))&&i.push(d);return i}function kr(e,t){return function(n){return e(t(n))}}var Qr=kr(Object.keys,Object);const ea=Qr;var ta=Object.prototype,na=ta.hasOwnProperty;function ra(e){if(!dr(e))return ea(e);var t=[];for(var n in Object(e))na.call(e,n)&&n!="constructor"&&t.push(n);return t}function Ae(e){return Te(e)?Zr(e):ra(e)}var aa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oa=/^\w*$/;function xe(e,t){if(x(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Y(e)?!0:oa.test(e)||!aa.test(e)||t!=null&&e in Object(t)}var sa=z(Object,"create");const Z=sa;function ia(){this.__data__=Z?Z(null):{},this.size=0}function la(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ua="__lodash_hash_undefined__",ca=Object.prototype,da=ca.hasOwnProperty;function fa(e){var t=this.__data__;if(Z){var n=t[e];return n===ua?void 0:n}return da.call(t,e)?t[e]:void 0}var pa=Object.prototype,_a=pa.hasOwnProperty;function ga(e){var t=this.__data__;return Z?t[e]!==void 0:_a.call(t,e)}var ha="__lodash_hash_undefined__";function ya(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Z&&t===void 0?ha:t,this}function B(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}B.prototype.clear=ia;B.prototype.delete=la;B.prototype.get=fa;B.prototype.has=ga;B.prototype.set=ya;function va(){this.__data__=[],this.size=0}function ie(e,t){for(var n=e.length;n--;)if(dt(e[n][0],t))return n;return-1}var ma=Array.prototype,ba=ma.splice;function wa(e){var t=this.__data__,n=ie(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ba.call(t,n,1),--this.size,!0}function Sa(e){var t=this.__data__,n=ie(t,e);return n<0?void 0:t[n][1]}function $a(e){return ie(this.__data__,e)>-1}function Ta(e,t){var n=this.__data__,r=ie(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function I(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}I.prototype.clear=va;I.prototype.delete=wa;I.prototype.get=Sa;I.prototype.has=$a;I.prototype.set=Ta;var Aa=z(M,"Map");const k=Aa;function xa(){this.size=0,this.__data__={hash:new B,map:new(k||I),string:new B}}function Oa(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function le(e,t){var n=e.__data__;return Oa(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Ea(e){var t=le(this,e).delete(e);return this.size-=t?1:0,t}function Pa(e){return le(this,e).get(e)}function Ca(e){return le(this,e).has(e)}function Ma(e,t){var n=le(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function D(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}D.prototype.clear=xa;D.prototype.delete=Ea;D.prototype.get=Pa;D.prototype.has=Ca;D.prototype.set=Ma;var Ia="Expected a function";function Oe(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Ia);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=e.apply(this,r);return n.cache=a.set(o,s)||a,s};return n.cache=new(Oe.Cache||D),n}Oe.Cache=D;var Da=500;function ja(e){var t=Oe(e,function(r){return n.size===Da&&n.clear(),r}),n=t.cache;return t}var La=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fa=/\\(\\)?/g,Va=ja(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(La,function(n,r,o,a){t.push(o?a.replace(Fa,"$1"):r||n)}),t});const Ba=Va;function Ra(e){return e==null?"":it(e)}function vt(e,t){return x(e)?e:xe(e,t)?[e]:Ba(Ra(e))}var Na=1/0;function ue(e){if(typeof e=="string"||Y(e))return e;var t=e+"";return t=="0"&&1/e==-Na?"-0":t}function Ee(e,t){t=vt(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ue(t[n++])];return n&&n==r?e:void 0}function Ga(e,t,n){var r=e==null?void 0:Ee(e,t);return r===void 0?n:r}function Ua(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Ha(){this.__data__=new I,this.size=0}function za(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Ka(e){return this.__data__.get(e)}function Ja(e){return this.__data__.has(e)}var qa=200;function Wa(e,t){var n=this.__data__;if(n instanceof I){var r=n.__data__;if(!k||r.length<qa-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new D(r)}return n.set(e,t),this.size=n.size,this}function C(e){var t=this.__data__=new I(e);this.size=t.size}C.prototype.clear=Ha;C.prototype.delete=za;C.prototype.get=Ka;C.prototype.has=Ja;C.prototype.set=Wa;function Xa(e,t){for(var n=-1,r=e==null?0:e.length,o=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[o++]=s)}return a}function Ya(){return[]}var Za=Object.prototype,ka=Za.propertyIsEnumerable,Ne=Object.getOwnPropertySymbols,Qa=Ne?function(e){return e==null?[]:(e=Object(e),Xa(Ne(e),function(t){return ka.call(e,t)}))}:Ya;const eo=Qa;function to(e,t,n){var r=t(e);return x(e)?r:Ua(r,n(e))}function Ge(e){return to(e,Ae,eo)}var no=z(M,"DataView");const ve=no;var ro=z(M,"Promise");const me=ro;var ao=z(M,"Set");const be=ao;var Ue="[object Map]",oo="[object Object]",He="[object Promise]",ze="[object Set]",Ke="[object WeakMap]",Je="[object DataView]",so=N(ve),io=N(k),lo=N(me),uo=N(be),co=N(he),F=H;(ve&&F(new ve(new ArrayBuffer(1)))!=Je||k&&F(new k)!=Ue||me&&F(me.resolve())!=He||be&&F(new be)!=ze||he&&F(new he)!=Ke)&&(F=function(e){var t=H(e),n=t==oo?e.constructor:void 0,r=n?N(n):"";if(r)switch(r){case so:return Je;case io:return Ue;case lo:return He;case uo:return ze;case co:return Ke}return t});const qe=F;var fo=M.Uint8Array;const We=fo;var po="__lodash_hash_undefined__";function _o(e){return this.__data__.set(e,po),this}function go(e){return this.__data__.has(e)}function se(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new D;++t<n;)this.add(e[t])}se.prototype.add=se.prototype.push=_o;se.prototype.has=go;function ho(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function yo(e,t){return e.has(t)}var vo=1,mo=2;function mt(e,t,n,r,o,a){var s=n&vo,i=e.length,u=t.length;if(i!=u&&!(s&&u>i))return!1;var d=a.get(e),h=a.get(t);if(d&&h)return d==t&&h==e;var l=-1,f=!0,g=n&mo?new se:void 0;for(a.set(e,t),a.set(t,e);++l<i;){var p=e[l],_=t[l];if(r)var m=s?r(_,p,l,t,e,a):r(p,_,l,e,t,a);if(m!==void 0){if(m)continue;f=!1;break}if(g){if(!ho(t,function(T,A){if(!yo(g,A)&&(p===T||o(p,T,n,r,a)))return g.push(A)})){f=!1;break}}else if(!(p===_||o(p,_,n,r,a))){f=!1;break}}return a.delete(e),a.delete(t),f}function bo(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function wo(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var So=1,$o=2,To="[object Boolean]",Ao="[object Date]",xo="[object Error]",Oo="[object Map]",Eo="[object Number]",Po="[object RegExp]",Co="[object Set]",Mo="[object String]",Io="[object Symbol]",Do="[object ArrayBuffer]",jo="[object DataView]",Xe=L?L.prototype:void 0,ge=Xe?Xe.valueOf:void 0;function Lo(e,t,n,r,o,a,s){switch(n){case jo:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Do:return!(e.byteLength!=t.byteLength||!a(new We(e),new We(t)));case To:case Ao:case Eo:return dt(+e,+t);case xo:return e.name==t.name&&e.message==t.message;case Po:case Mo:return e==t+"";case Oo:var i=bo;case Co:var u=r&So;if(i||(i=wo),e.size!=t.size&&!u)return!1;var d=s.get(e);if(d)return d==t;r|=$o,s.set(e,t);var h=mt(i(e),i(t),r,o,a,s);return s.delete(e),h;case Io:if(ge)return ge.call(e)==ge.call(t)}return!1}var Fo=1,Vo=Object.prototype,Bo=Vo.hasOwnProperty;function Ro(e,t,n,r,o,a){var s=n&Fo,i=Ge(e),u=i.length,d=Ge(t),h=d.length;if(u!=h&&!s)return!1;for(var l=u;l--;){var f=i[l];if(!(s?f in t:Bo.call(t,f)))return!1}var g=a.get(e),p=a.get(t);if(g&&p)return g==t&&p==e;var _=!0;a.set(e,t),a.set(t,e);for(var m=s;++l<u;){f=i[l];var T=e[f],A=t[f];if(r)var $=s?r(A,T,f,t,e,a):r(T,A,f,e,t,a);if(!($===void 0?T===A||o(T,A,n,r,a):$)){_=!1;break}m||(m=f=="constructor")}if(_&&!m){var P=e.constructor,j=t.constructor;P!=j&&"constructor"in e&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof j=="function"&&j instanceof j)&&(_=!1)}return a.delete(e),a.delete(t),_}var No=1,Ye="[object Arguments]",Ze="[object Array]",re="[object Object]",Go=Object.prototype,ke=Go.hasOwnProperty;function Uo(e,t,n,r,o,a){var s=x(e),i=x(t),u=s?Ze:qe(e),d=i?Ze:qe(t);u=u==Ye?re:u,d=d==Ye?re:d;var h=u==re,l=d==re,f=u==d;if(f&&ye(e)){if(!ye(t))return!1;s=!0,h=!1}if(f&&!h)return a||(a=new C),s||yt(e)?mt(e,t,n,r,o,a):Lo(e,t,u,n,r,o,a);if(!(n&No)){var g=h&&ke.call(e,"__wrapped__"),p=l&&ke.call(t,"__wrapped__");if(g||p){var _=g?e.value():e,m=p?t.value():t;return a||(a=new C),o(_,m,n,r,a)}}return f?(a||(a=new C),Ro(e,t,n,r,o,a)):!1}function Pe(e,t,n,r,o){return e===t?!0:e==null||t==null||!U(e)&&!U(t)?e!==e&&t!==t:Uo(e,t,n,r,Pe,o)}var Ho=1,zo=2;function Ko(e,t,n,r){var o=n.length,a=o,s=!r;if(e==null)return!a;for(e=Object(e);o--;){var i=n[o];if(s&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++o<a;){i=n[o];var u=i[0],d=e[u],h=i[1];if(s&&i[2]){if(d===void 0&&!(u in e))return!1}else{var l=new C;if(r)var f=r(d,h,u,e,t,l);if(!(f===void 0?Pe(h,d,Ho|zo,r,l):f))return!1}}return!0}function bt(e){return e===e&&!Se(e)}function Jo(e){for(var t=Ae(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,bt(o)]}return t}function wt(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function qo(e){var t=Jo(e);return t.length==1&&t[0][2]?wt(t[0][0],t[0][1]):function(n){return n===e||Ko(n,e,t)}}function Wo(e,t){return e!=null&&t in Object(e)}function Xo(e,t,n){t=vt(t,e);for(var r=-1,o=t.length,a=!1;++r<o;){var s=ue(t[r]);if(!(a=e!=null&&n(e,s)))break;e=e[s]}return a||++r!=o?a:(o=e==null?0:e.length,!!o&&$e(o)&&ct(s,o)&&(x(e)||pt(e)))}function Yo(e,t){return e!=null&&Xo(e,t,Wo)}var Zo=1,ko=2;function Qo(e,t){return xe(e)&&bt(t)?wt(ue(e),t):function(n){var r=Ga(n,e);return r===void 0&&r===t?Yo(n,e):Pe(t,r,Zo|ko)}}function es(e){return function(t){return t==null?void 0:t[e]}}function ts(e){return function(t){return Ee(t,e)}}function ns(e){return xe(e)?es(ue(e)):ts(e)}function rs(e){return typeof e=="function"?e:e==null?lt:typeof e=="object"?x(e)?Qo(e[0],e[1]):qo(e):ns(e)}function as(e){return function(t,n,r){for(var o=-1,a=Object(t),s=r(t),i=s.length;i--;){var u=s[e?i:++o];if(n(a[u],u,a)===!1)break}return t}}var os=as();const ss=os;function is(e,t){return e&&ss(e,t,Ae)}function ls(e,t){return function(n,r){if(n==null)return n;if(!Te(n))return e(n,r);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&r(s[a],a,s)!==!1;);return n}}var us=ls(is);const cs=us;function ds(e,t){var n=-1,r=Te(e)?Array(e.length):[];return cs(e,function(o,a,s){r[++n]=t(o,a,s)}),r}function fs(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function ps(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,a=Y(e),s=t!==void 0,i=t===null,u=t===t,d=Y(t);if(!i&&!d&&!a&&e>t||a&&s&&u&&!i&&!d||r&&s&&u||!n&&u||!o)return 1;if(!r&&!a&&!d&&e<t||d&&n&&o&&!r&&!a||i&&n&&o||!s&&o||!u)return-1}return 0}function _s(e,t,n){for(var r=-1,o=e.criteria,a=t.criteria,s=o.length,i=n.length;++r<s;){var u=ps(o[r],a[r]);if(u){if(r>=i)return u;var d=n[r];return u*(d=="desc"?-1:1)}}return e.index-t.index}function gs(e,t,n){t.length?t=ae(t,function(a){return x(a)?function(s){return Ee(s,a.length===1?a[0]:a)}:a}):t=[lt];var r=-1;t=ae(t,gt(rs));var o=ds(e,function(a,s,i){var u=ae(t,function(d){return d(a)});return{criteria:u,index:++r,value:a}});return fs(o,function(a,s){return _s(a,s,n)})}function Qe(e,t,n,r){return e==null?[]:(x(t)||(t=t==null?[]:[t]),n=r?void 0:n,x(n)||(n=n==null?[]:[n]),gs(e,t,n))}const hs={class:"grid"},ys={class:"col-12"},vs={class:"card"},ms=c("h5",null,"DataView",-1),bs={class:"grid grid-nogutter"},ws={class:"col-6 text-left"},Ss={class:"grid grid-nogutter"},$s={class:"p-4 border-1 surface-border surface-card border-round flex flex-column"},Ts={class:"surface-50 flex justify-content-center border-round p-3"},As={class:"relative mx-auto"},xs={class:"pt-4"},Os={class:"flex flex-row justify-content-between align-items-start gap-2"},Es={class:"text-lg font-medium text-teal-400 mt-1"},Ps={class:"flex flex-column gap-4 mt-4"},Cs={class:"text-xl font-semibold text-cyan-500"},Ms={__name:"List",props:{energyData:{type:Object,default:()=>({})}},setup(e){const n=y(Object.entries(e.energyData).map(([h,l])=>({fregment_id:h,mass:l[0],SMILES:l[1]}))),r=Dt(()=>Qe(n.value,[i.value],[s.value===1?"asc":"desc"]));y("");const o=y("grid"),a=y(null),s=y(1),i=y("mass"),u=y([{label:"Mass High to Low",value:"!mass"},{label:"Mass Low to High",value:"mass"}]),d=h=>{const l=h.value.value,f=h.value;l.indexOf("!")===0?(s.value=-1,i.value=l.substring(1,l.length).toLowerCase(),a.value=f):(s.value=1,i.value=l.toLowerCase(),a.value=f)};return Q([s,i],()=>{r.value=Qe(n.value,[i.value],[s.value===1?"asc":"desc"])}),(h,l)=>{const f=E("Dropdown"),g=E("DataView");return b(),S("div",hs,[c("div",ys,[c("div",vs,[ms,w(g,{value:r.value,layout:o.value,paginator:!0,rows:9,sortOrder:s.value,sortField:i.value},{header:V(()=>[c("div",bs,[c("div",ws,[w(f,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=p=>a.value=p),options:u.value,optionLabel:"label",placeholder:"Sort By Mass",onChange:l[1]||(l[1]=p=>d(p))},null,8,["modelValue","options"])])])]),grid:V(p=>[c("div",Ss,[(b(!0),S(X,null,nt(p.items,(_,m)=>(b(),S("div",{key:m,class:"col-12 sm:col-6 md:col-4 p-2"},[c("div",$s,[c("div",Ts,[c("div",As,[w(at,{molecules:_.SMILES},null,8,["molecules"])])]),c("div",xs,[c("div",Os,[c("div",null,[c("div",Es,oe(_.mass),1)])]),c("div",Ps,[c("span",Cs,oe(_.SMILES),1)])])])]))),128))])]),_:1},8,["value","layout","sortOrder","sortField"])])])])}}},Is=c("h1",null,"CFM-ID",-1),Ls={__name:"Empty",setup(e){const t=y(""),n=y({name:"[M+H]+",code:"[M+H]+"}),r=y(!1),o=y(null);y(""),Q(r,s=>{s&&a()});const a=()=>{r.value=!0,jt.post("/predict",{smiles_or_inchi_or_file:t.value,AdductType:n.value.code}).then(s=>{o.value=s.data.result,r.value=!1}).catch(s=>{console.error(s.response.data),r.value=!1})};return(s,i)=>(b(),S(X,null,[Is,w(bn,{smiles_or_inchi_or_file:t.value,"onUpdate:smiles_or_inchi_or_file":i[0]||(i[0]=u=>t.value=u),isSubmit:r.value,"onUpdate:isSubmit":i[1]||(i[1]=u=>r.value=u),AdductType_dropdownItem:n.value,"onUpdate:AdductType_dropdownItem":i[2]||(i[2]=u=>n.value=u),onConfirm:i[3]||(i[3]=u=>t.value=u)},null,8,["smiles_or_inchi_or_file","isSubmit","AdductType_dropdownItem"]),r.value?(b(),J(On,{key:0})):G("",!0),!r.value&&o.value&&o.value.energy0?(b(),J(fe,{key:1,energyData:o.value.energy0,Energy_level:"Low Energy"},null,8,["energyData"])):G("",!0),!r.value&&o.value&&o.value.energy1?(b(),J(fe,{key:2,energyData:o.value.energy1,Energy_level:"Middle Energy"},null,8,["energyData"])):G("",!0),!r.value&&o.value&&o.value.energy2?(b(),J(fe,{key:3,energyData:o.value.energy2,Energy_level:"High Energy"},null,8,["energyData"])):G("",!0),!r.value&&o.value&&o.value.fragment?(b(),J(Ms,{key:4,energyData:o.value.fragment},null,8,["energyData"])):G("",!0)],64))}};export{Ls as default};
